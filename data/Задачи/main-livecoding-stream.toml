category = "Stream API"

[[tasks]]
  id = 1
  question = "–°–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (—Ç–∏–ø–∞ String) –∞–∫—Ç–∏–≤–Ω—ã—Ö (–∞—Ç—Ä–∏–±—É—Ç Item.active —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º true) –∏–º–µ–Ω (–∞—Ç—Ä–∏–±—É—Ç Item.name), –∏—Å–ø–æ–ª—å–∑—É—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–æ–∫ items"
  answer = "```java\n@Getter\n@Setter\nclass Item {\n    private final Long id;\n    private String name;\n    private boolean active;\n}\n\nList<Item> items = ...\n\n\nCollection<String> result = items.stream()...\n\n```\n\n\n{{< hint warning >}}\n**–°–ø–æ–π–ª–µ—Ä—ã –∫ —Ä–µ—à–µ–Ω–∏—é** ¬†\n{{< /hint >}}\n\n{{< details \"–ü–æ–¥—Å–∫–∞–∑–∫–∏\" close >}}\nüí° –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Stream API** –≤ Java –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ —Å–±–æ—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é.  \nüîç –î–ª—è —ç—Ç–æ–≥–æ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è **`filter`** –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ **`map`** –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–º–µ–Ω. –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º **`Collectors.toSet()`** –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª —É–Ω–∏–∫–∞–ª—å–Ω—ã–º.\n{{< /details >}}\n\n{{< details \"–†–µ—à–µ–Ω–∏–µ\" close >}}\n\n```java\nimport java.util.*;\nimport java.util.stream.*;\n\n@Getter\n@Setter\nclass Item {\n    private final Long id;\n    private String name;\n    private boolean active;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        List<Item> items = ...; // –í–∞—à —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ Item\n\n        Collection<String> result = items.stream()\n            .filter(Item::isActive)               // –§–∏–ª—å—Ç—Ä—É–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã\n            .map(Item::getName)                   // –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–º—è\n            .collect(Collectors.toSet());         // –°–æ–±–∏—Ä–∞–µ–º –≤ —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é\n\n        System.out.println(result);\n    }\n}\n```\n\nüìå **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**\n\n- **`filter(Item::isActive)`** ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã, –≥–¥–µ **`active == true`**.\n- **`map(Item::getName)`** ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ–º –∏–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.\n- **`collect(Collectors.toSet())`** ‚Äî —Å–æ–±–∏—Ä–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ **`Set`**, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å.\n\nüöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**\n\n- –ú—ã –ø–æ–ª—É—á–∏–º –∫–æ–ª–ª–µ–∫—Ü–∏—é —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤.\n{{< /details >}}"
  filepath = "–ó–∞–¥–∞—á–∏/livecoding/task-livecoding-stream-unique-active-item-names"

[[tasks]]
  id = 2
  question = "–£–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è"
  answer = "**–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:**  \nüìå –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–π –∫–æ–¥, –∏ —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.\n\n```java\npublic class AvoidComplexLambdas {\n    private final Set<User> users = new HashSet<>();\n\n    public Set<User> findEditors() {\n        return users.stream()\n                .filter(u -> u.getRoles().stream()\n                        .anyMatch(r -> r.getPermissions().contains(Permission.EDIT)))\n                .collect(toSet());\n    }\n}\n```\n\n---\n\n{{< hint warning >}}  \n**–°–ø–æ–π–ª–µ—Ä—ã –∫ –æ—Ç–≤–µ—Ç—É**  \n{{< /hint >}}\n\n{{< details \"–ü–æ–¥—Å–∫–∞–∑–∫–∏\" close >}}  \nüí° –ú–µ—Ç–æ–¥ `findEditors()` –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ä–æ–ª—å —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º `EDIT`.  \nüí° –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ª—è–º–±–¥—ã —É—Ö—É–¥—à–∞—é—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å.  \nüí° –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –±—É–¥–µ—Ç **–≤—ã–Ω–µ—Å—Ç–∏ –≤–ª–æ–∂–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É** –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ —Å –ø–æ–Ω—è—Ç–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º.  \n{{< /details >}}\n\n{{< details \"–†–µ—à–µ–Ω–∏–µ\" close >}}\n\n### üîç –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥?\n\n–ú–µ—Ç–æ–¥ `findEditors()`:\n\n- –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º `users`,\n    \n- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–µ—Ö, —É –∫–æ–≥–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ `Role` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `Permission.EDIT`,\n    \n- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–∞–∫ `Set`.\n    \n\n### ‚úÖ –ö–∞–∫ —É–ª—É—á—à–∏—Ç—å?\n\n–í—ã–Ω–æ—Å–∏–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ª—è–º–±–¥—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `hasEditPermission(User u)`:\n\n```java\npublic class AvoidComplexLambdas {\n    private final Set<User> users = new HashSet<>();\n\n    public Set<User> findEditors() {\n        return users.stream()\n                .filter(this::hasEditPermission)\n                .collect(Collectors.toSet());\n    }\n\n    private boolean hasEditPermission(User user) {\n        return user.getRoles().stream()\n                .anyMatch(role -> role.getPermissions().contains(Permission.EDIT));\n    }\n}\n```\n\n### ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:\n\n- –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –ø–æ–≤—ã—à–∞–µ—Ç—Å—è.\n    \n- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `hasEditPermission`.\n    \n- –£–ø—Ä–æ—â–∞–µ—Ç—Å—è –æ—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.\n    \n\nüî• –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Äî —ç—Ç–æ –ø—Ä–æ —á–∏—Å—Ç—ã–π –∫–æ–¥, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥! üßπ  \n{{< /details >}}"
  filepath = "–ó–∞–¥–∞—á–∏/livecoding/task-livecoding-stream-avoid-complex-lambdas"

[[tasks]]
  id = 3
  question = "–ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ —Ç–∞–±–µ–ª—å–Ω–æ–º—É –Ω–æ–º–µ—Ä—É"
  answer = "**–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:**  \nüìå –î–∞–Ω –∫–ª–∞—Å—Å `Empl` —Å –ø–æ–ª—è–º–∏ `tabNomer` –∏ `fio`.  \n–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `getEmployee`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ `List<Empl>` –∏ —Ç–∞–±–µ–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä `tabNomer`, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø–µ—Ä–≤–æ–≥–æ** —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å —Ç–∞–∫–∏–º —Ç–∞–±–µ–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –≤ –≤–∏–¥–µ `Optional<Empl>`.\n\n**–ö–æ–¥:**\n\n```java\npublic class Empl {\n    private String tabNomer;\n    private String fio;\n\n    public Empl(String tabNomer, String fio) {\n        this.tabNomer = tabNomer;\n        this.fio = fio;\n    }\n\n    public String getTabNomer() { return tabNomer; }\n    public String getFio()     { return fio;     }\n}\n\npublic class EmplService {\n    public Optional<Empl> getEmployee(List<Empl> empls, String tabNomer) {\n        // TODO\n    }\n}\n````\n\n{{< hint warning >}}  \n**–°–ø–æ–π–ª–µ—Ä—ã –∫ —Ä–µ—à–µ–Ω–∏—é**  \n{{< /hint >}}\n\n{{< details \"–ü–æ–¥—Å–∫–∞–∑–∫–∏\" close >}}  \nüí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Stream API** –¥–ª—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–±–æ—Ä–∞ —Å–ø–∏—Å–∫–∞.  \nüí° –ú–µ—Ç–æ–¥ `filter(...)` –ø–æ–∑–≤–æ–ª–∏—Ç –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö `getTabNomer().equals(tabNomer)`.  \nüí° –ú–µ—Ç–æ–¥ `findFirst()` –≤–µ—Ä–Ω—ë—Ç –ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ `Optional`.  \nüí° –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ `null`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.  \n{{< /details >}}\n\n{{< details \"–†–µ—à–µ–Ω–∏–µ\" close >}}\n\n```java\nimport java.util.List;\nimport java.util.Optional;\n\npublic class EmplService {\n    public Optional<Empl> getEmployee(List<Empl> empls, String tabNomer) {\n        if (empls == null || tabNomer == null) {\n            return Optional.empty();\n        }\n        return empls.stream()\n                    .filter(e -> tabNomer.equals(e.getTabNomer()))\n                    .findFirst();\n    }\n}\n```\n\nüìå **–ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:**  \n‚úÖ `Optional` ‚Äî —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è.  \n‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `equals` –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ (`tabNomer.equals(...)`) –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç NPE, –µ—Å–ª–∏ –ø–æ–ª–µ `tabNomer` —É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ `null`.  \n‚úÖ Stream-–ø–æ–¥—Ö–æ–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º –∏ —á–∏—Ç–∞–µ–º—ã–º.  \n{{< /details >}}"
  filepath = "–ó–∞–¥–∞—á–∏/livecoding/task-livecoding-stream-get-employee-by-tabnomer"
