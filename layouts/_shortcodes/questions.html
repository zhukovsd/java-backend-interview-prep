{{ range $hugoSection, $files := index .Site.Data }}

    {{ range $filename, $data := $files }}

        {{ $sectionData := index $data "section" }}
        {{ $sectionPath := print "/" ($hugoSection | anchorize) "/" ($filename | anchorize) }}
        {{ $page := $.Site.GetPage $sectionPath }}
        {{ $sectionLink := $page.RelPermalink }}

        <h2><a href="{{$sectionLink}}">{{ $sectionData.title }}</a> [{{ $sectionData.popularity }}%]</h2>

        {{ range $qa := index $data "items" }}

            {{ $questionAnchor := printf "%d %s" .id .question | anchorize }}
            {{ $questionLink := print $sectionLink "#" $questionAnchor }}

            <h4>{{ .id }}. <a href="{{ $questionLink }}">{{ .question }}</a> [{{ .popularity }}%]</h4>

        {{end}}

    {{end}}

{{end}}
