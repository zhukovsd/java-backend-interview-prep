#### 63. –ù–∞–π—Ç–∏ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã –±–µ–∑ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:**  
üìå –ï—Å—Ç—å –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã:

- `Department(id, name)`

- `Employee(id, salary, department_id)`


–ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å **SELECT**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–µ–¥–µ—Ç **–≤—Å–µ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞**.

---

{{< hint warning >}}  
**–°–ø–æ–π–ª–µ—Ä—ã –∫ —Ä–µ—à–µ–Ω–∏—é**  
{{< /hint >}}

---

{{< details "–ü–æ–¥—Å–∫–∞–∑–∫–∏" close >}}  
üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `LEFT JOIN`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã.  
üí° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ `NULL` –≤ –ø–æ–ª—è—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `Employee`.  
üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî `NOT EXISTS`.  
{{< /details >}}

---

{{< details "–†–µ—à–µ–Ω–∏–µ" close >}}

### –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî —á–µ—Ä–µ–∑ LEFT JOIN (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π)

```sql
SELECT
    d.id,
    d.name
FROM Department d
LEFT JOIN Employee e
    ON e.department_id = d.id
WHERE e.id IS NULL;
```

**–ü–æ—á–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- `LEFT JOIN` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã.

- –ï—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–µ—Ç, –ø–æ–ª—è `Employee` –±—É–¥—É—Ç `NULL`.

- `WHERE e.id IS NULL` –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–∞–∫–∏–µ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã.


---

### –í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî —á–µ—Ä–µ–∑ NOT EXISTS

```sql
SELECT
    d.id,
    d.name
FROM Department d
WHERE NOT EXISTS (
    SELECT 1
    FROM Employee e
    WHERE e.department_id = d.id
);
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**

- –ß–∞—Å—Ç–æ –ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º.

- –Ø–≤–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç –±–∏–∑–Ω–µ—Å-—Å–º—ã—Å–ª: ¬´–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤¬ª.


{{< /details >}}