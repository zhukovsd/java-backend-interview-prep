#### 90. –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å immutable

**–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:**  
üìå –î–∞–Ω –∫–ª–∞—Å—Å `A` —Å –ø–æ–ª—è–º–∏ `Integer a` –∏ `List<Object> b`.  
–ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –∫–ª–∞—Å—Å **immutable** ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º.

**–ö–æ–¥:**

```java
class A {
    Integer a;
    List<Object> b;
}
```

{{< hint warning >}}  
**–°–ø–æ–π–ª–µ—Ä—ã –∫ —Ä–µ—à–µ–Ω–∏—é**  
{{< /hint >}}

{{< details "–ü–æ–¥—Å–∫–∞–∑–∫–∏" close >}}  
üí° –í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `private final`.  
üí° –ù–∏–∫–∞–∫–∏—Ö —Å–µ—Ç—Ç–µ—Ä–æ–≤.  
üí° –ó–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.  
üí° –ö–æ–ª–ª–µ–∫—Ü–∏–∏ ‚Äî _—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ_: –∏—Ö –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∏–Ω–∞—á–µ –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–Ω–∞—Ä—É–∂–∏.  
üí° –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ ‚Äî –æ—Ç–¥–∞–≤–∞—Ç—å **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—É—é –∫–æ–ø–∏—é** (`Collections.unmodifiableList`).  
{{< /details >}}

{{< details "–†–µ—à–µ–Ω–∏–µ" close >}}

```java
public final class A {

    private final Integer a;
    private final List<Object> b;

    public A(Integer a, List<Object> b) {
        this.a = a;
        // –≥–ª—É–±–æ–∫–∞—è –∫–æ–ø–∏—è —Å–ø–∏—Å–∫–∞ + –¥–µ–ª–∞–µ–º –µ–≥–æ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º
        this.b = b == null 
                ? List.of() 
                : List.copyOf(b);
    }

    public Integer getA() {
        return a;
    }

    public List<Object> getB() {
        // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫
        return b;
    }
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ—Ç –∫–ª–∞—Å—Å immutable:**

- `final class` ‚Äî –æ—Ç –Ω–µ–≥–æ –Ω–µ–ª—å–∑—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

- –ü–æ–ª—è `private final` ‚Äî –∏—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

- –ù–µ—Ç —Å–µ—Ç—Ç–µ—Ä–æ–≤.

- –ö–æ–ª–ª–µ–∫—Ü–∏—è `b` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è (`List.copyOf`) ‚Üí –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–Ω–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

- `List.copyOf` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫**, –∑–Ω–∞—á–∏—Ç –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å `getB().add(...)`.


–¢–∞–∫–æ–π –æ–±—ä–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∏–∑–º–µ–Ω—è–µ–º –∏ –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

{{< /details >}}