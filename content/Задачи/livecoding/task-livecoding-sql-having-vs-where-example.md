#### 57. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å WHERE –∏ HAVING

**–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:**  
üìå –ù—É–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å SQL-–ø—Ä–∏–º–µ—Ä, –≥–¥–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `WHERE` –∏ `HAVING`, –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É.  
–ó–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.

---

{{< hint warning >}}  
**–°–ø–æ–π–ª–µ—Ä—ã –∫ —Ä–µ—à–µ–Ω–∏—é**  
{{< /hint >}}

---

{{< details "–ü–æ–¥—Å–∫–∞–∑–∫–∏" close >}}  
üí° `WHERE` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç **—Å—Ç—Ä–æ–∫–∏ –¥–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏**.  
üí° `HAVING` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç **–≥—Ä—É–ø–ø—ã –ø–æ—Å–ª–µ GROUP BY**.  
üí° –•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä: –≤—ã–±—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—ã, –≥–¥–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (`WHERE`), –∏ —Å—Ä–µ–¥–∏ –Ω–∏—Ö –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ, –≥–¥–µ **—Å—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤—ã—à–µ 50k** (`HAVING`).  
{{< /details >}}

---

{{< details "–†–µ—à–µ–Ω–∏–µ" close >}}

```sql
SELECT 
    department_id,
    AVG(salary) AS avg_salary,
    COUNT(*) AS emp_count
FROM employees
WHERE status = 'ACTIVE'          -- —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –¥–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
GROUP BY department_id
HAVING AVG(salary) > 50000       -- —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø –ø–æ—Å–ª–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
   AND COUNT(*) >= 3;            -- –ø—Ä–∏–º–µ—Ä –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏—è
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å:**

- `WHERE status = 'ACTIVE'`  
  ‚Üí –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –±–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

- `GROUP BY department_id`  
  ‚Üí –≥—Ä—É–ø–ø–∏—Ä—É–µ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –æ—Ç–¥–µ–ª–∞–º.

- `HAVING AVG(salary) > 50000`  
  ‚Üí –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –æ—Ç–¥–µ–ª—ã, –≥–¥–µ —Å—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤—ã—à–µ 50k.

- `COUNT(*) >= 3`  
  ‚Üí –∏ –≤ –æ—Ç–¥–µ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ —Ç—Ä—ë—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.


–ò—Ç–æ–≥–æ: –∑–∞–ø—Ä–æ—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—ã —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º —à—Ç–∞—Ç–æ–º –∏ –≤—ã—Å–æ–∫–æ–π —Å—Ä–µ–¥–Ω–µ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π.

{{< /details >}}