+++
title = 'Исключения'
weight = 3
bookFlatSection = true
+++

## Исключения

#### 1. Расскажите про иерархию исключений
{{< figure src="Exception.png" title="Exceptions" >}}

  **Interface Throwable** - общий предок для всех исключений

---
#### 2. Что такое Error и Exception?
  **Error** - Связаны с проблемами уровня JVM

  **Exception** - Являются результатом проблем в программе

---
#### 3. Расскажите про обрабатываемые и необрабатываемые исключения
  **Checked** - Exception. Должны обрабатываться блоком catch, или описываться в сигнатуре метода (IOException)

  **Unchecked** - Ошибки Error, а так же исключения времени выполнения (RuntimeException) и его наследниками. Могут не обрабатываться блоком catch и не быть описаны в сигнатуре метода

---
#### 4. О чем говорит ключевое слово throws?
Метод потенциально может выбросить исключение с указанным типом (элемент контракта метода). Передаёт обработку исключения вышестоящему методу.

---
#### 5. Как создать собственное («пользовательское») исключение?
Необходимо унаследоваться от базового класса требуемого типа исключений (например, от Exception или RuntimeException) и переопределить методы.

---
#### 6. Расскажите про механизм обработки исключений в java (Try-catch-finally)
- **Try** - блок в котором может возникнуть исключение
- **Catch** - блок в котором мы ловим исключение и пишем логику его обработки
- **Finally** - блок, который обязательно отработает

---
#### 7. Возможно ли использование блока try-finally (без catch)?
Да, в таком случае после try выполнится finally

---
#### 8. Может ли один блок catch отлавливать сразу несколько исключений?
Да

---
#### 9. Всегда ли выполняется блок finally? Существуют ли ситуации, когда блок finally не будет выполнен?
Да, кроме случаев завершения программы или JVM. 
Finally может не выполниться в случае если в блоке try вызывает System.exit(0)

---
#### 10. В каком порядке следует обрабатывать исключения в catch блоках?
От наследника к родителю. Иначе мы не дойдем до наследника

---
#### 11. Что такое механизм try-with-resources?
Это механизм, который автоматически закрывает ресурс. В качестве ресурса можно использовать любой объект, класс которого реализует интерфейс AutoClosable или Closable (Scanner, например)

---
#### 12. Ошибка OutOfMemoryError. Поймать утечку памяти и пофиксить
Ошибка `OutOfMemoryError` возникает, когда JVM не может выделить достаточно памяти для выполнения программы. Это может быть связано с утечками памяти, неправильной конфигурацией или большим объемом данных. Вот пошаговый процесс, как выявить и устранить причину:

1. Соберите дамп памяти.
2. Найдите источники утечки.
3. Исправьте типичные проблемы:
   - Неосвобожденные ресурсы.
   - Переполненные коллекции.
   - Статические ссылки.
   - Неотписавшиеся слушатели.
4. Убедитесь, что память используется корректно. 

---
#### 13. @SneakyThrows в Lombok

`@SneakyThrows` — это аннотация Lombok, которая позволяет автоматически обрабатывать исключения, не требуя явного указания `try-catch` или объявления `throws` в методе. Lombok оборачивает вызов в блок, который выбрасывает исключение как `RuntimeException`.

```java
@SneakyThrows
public void riskyMethod() {
    throw new IOException("Exception example"); // Не нужно объявлять throws IOException
}

```

