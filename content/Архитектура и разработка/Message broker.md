+++
title = '–ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π'
weight = 2
bookFlatSection = true
+++

## –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π

#### 1. –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã –±—Ä–æ–∫–µ—Ä–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü–ª—é—Å—ã**:
- *–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å*: –°–ª—É–∂–±—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
- *–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å*: –õ–µ–≥–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π.
- *–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å*: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –º–µ—Ö–∞–Ω–∏–∑–º–∞–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π.
- *–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏*: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

**–ú–∏–Ω—É—Å—ã**:
- *–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏*: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
- *–ó–∞–¥–µ—Ä–∂–∫–∞*: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–∫–µ—Ä–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
- *–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã*: –ù—É–∂–Ω—ã —É—Å–∏–ª–∏—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

---
#### 2. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Kafka –∏ RabbitMQ
- **–ú–æ–¥–µ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π**
  - *Kafka*. –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏
  - *RabbitMQ*. –°–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏

- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**
  - *Kafka*. –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ —Å–∞–º–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Ç–æ–ø–∏–∫–æ–≤, —á–∏—Ç–∞—è –∏—Ö –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
  - *RabbitMQ*. –°–æ–æ–±—â–µ–Ω–∏—è –ø—É—à–∞—Ç—Å—è –∫ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º –∏–∑ –æ—á–µ—Ä–µ–¥–∏, –∫–æ–≥–¥–∞ —Ç–µ –≥–æ—Ç–æ–≤—ã –∏—Ö –ø—Ä–∏–Ω—è—Ç—å (—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –ª–µ—á—å, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
  - *Kafka* –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–µ–µ —á–µ–º *RabbitMQ* (–∑–∞ —Å—á–µ—Ç partition-–æ–≤ + –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)

---
#### 3. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–æ–ø–∏–∫ –≤ Kafka?
*–¢–æ–ø–∏–∫* - —ç—Ç–æ –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞. –ö–∞–∂–¥—ã–π —Ç–æ–ø–∏–∫ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ partition-—ã

---
***–ù–∞ —á—Ç–æ –¥–µ–ª–∏—Ç—Å—è —Ç–æ–ø–∏–∫?***

–í **Apache Kafka** —Ç–æ–ø–∏–∫ (topic) –¥–µ–ª–∏—Ç—Å—è –Ω–∞ **—Ä–∞–∑–¥–µ–ª—ã (partitions)**. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ –Ω–∞ —Ä–∞–∑–¥–µ–ª—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –±—Ä–æ–∫–µ—Ä–∞–º–∏, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.

---
#### 4. –ß—Ç–æ —Ç–∞–∫–æ–µ Producer –∏ —á—Ç–æ —Ç–∞–∫–æ–µ Consumer?
- *Producer* - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–æ–æ–±—â–µ–Ω–∏—è (–¥–∞–Ω–Ω—ã–µ) –≤ Kafka
- *Consumer* - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø–æ–ª—É—á–∞—é—â–∏–π —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Kafka

---
***–ß—Ç–æ –¥–∞—Å—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Å—å—é–º–µ—Ä–æ–≤?***


–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π (consumers) –≤ **–≥—Ä—É–ø–ø–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π (consumer group)** –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö, –Ω–æ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
    
    - –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –≤ –≥—Ä—É–ø–ø–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–≤–æ–∏ —Ä–∞–∑–¥–µ–ª—ã (partitions).
    - –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ä–∞–∑–¥–µ–ª–æ–≤, —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
    
    - –û–¥–∏–Ω —Ä–∞–∑–¥–µ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é –≤ –≥—Ä—É–ø–ø–µ.
    - –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –ø—Ä–µ–≤—ã—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–¥–µ–ª–æ–≤, "–ª–∏—à–Ω–∏–µ" –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–∑–¥–µ–ª—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏.
3. **–ü—Ä–∏–º–µ—Ä:**
    
    - –¢–æ–ø–∏–∫ —Å 4 —Ä–∞–∑–¥–µ–ª–∞–º–∏:
        - –ï—Å–ª–∏ –≤ –≥—Ä—É–ø–ø–µ 2 –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, —Ç–æ –∫–∞–∂–¥—ã–π –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 2 —Ä–∞–∑–¥–µ–ª–∞.
        - –ï—Å–ª–∏ –≤ –≥—Ä—É–ø–ø–µ 4 –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∫–∞–∂–¥—ã–π –ø–æ–ª—É—á–∏—Ç 1 —Ä–∞–∑–¥–µ–ª.
        - –ï—Å–ª–∏ –≤ –≥—Ä—É–ø–ø–µ 5 –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π, –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ —Ä–∞–±–æ—Ç—ã.

---
#### 5. –ß—Ç–æ —Ç–∞–∫–æ–µ partition –≤ Kafka?
–≠—Ç–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ø–∏–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è. –ü–æ default-—É —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–∫–∏–¥—ã–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã–µ partition-—ã, —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. –ï—Å–ª–∏ –Ω–∞–º –Ω–∞–¥–æ, —á—Ç–æ –±—ã –∫–∞–∫–∏–µ-—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –≤ —Å—Ç—Ä–æ–≥–æ–π –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏ - –¥–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–ª—é—á partition-–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥—å –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º partition-–µ

---
***–ù–∞ —á—Ç–æ –¥–µ–ª–∏—Ç—Å—è partition?***

–†–∞–∑–¥–µ–ª (partition) **–Ω–µ –¥–µ–ª–∏—Ç—Å—è** –¥–∞–ª—å—à–µ, –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Kafka. –û–¥–Ω–∞–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞ –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. **–õ–æ–≥ –∑–∞–ø–∏—Å–∏:**
    
    - –°–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–∞–∑–¥–µ–ª–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª–µ –∏ –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è (**offsets**), –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.
2. **–†–µ–ø–ª–∏–∫–∏:**
    
    - –ö–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π (—Ä–µ–ø–ª–∏–∫) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.
3. **–õ–∏–¥–µ—Ä –∏ —Ñ–æ–ª–ª–æ–≤–µ—Ä—ã:**
    
    - –û–¥–∏–Ω –±—Ä–æ–∫–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª–æ–º –∫–∞–∫ –ª–∏–¥–µ—Ä, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—Ä–æ–∫–µ—Ä—ã —Ö—Ä–∞–Ω—è—Ç —Ä–µ–ø–ª–∏–∫–∏ –∏ –≤—ã—Å—Ç—É–ø–∞—é—Ç –∫–∞–∫ —Ñ–æ–ª–ª–æ–≤–µ—Ä—ã.

---
#### 6. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π. –ö–∞–∫ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –ø–∞—Ä—Ç–∏—Ü–∏—è–º?

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (producer) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫–æ–π —Ä–∞–∑–¥–µ–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã:

1. **–ë–µ–∑ –∫–ª—é—á–∞ (Round-Robin):**

    - –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ —É–∫–∞–∑–∞–Ω, —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∞–º.
    - –ü—Ä–∏–º–µ—Ä:

        ```
        Partition 0: Msg1, Msg4
        Partition 1: Msg2, Msg5
        Partition 2: Msg3, Msg6
        ```

2. **–° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–∞ (Key-based partitioning):**

    - –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á, Kafka –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞:

        ```
        partition = hash(key) % number_of_partitions
        ```

    - –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–ª—é—á–æ–º –±—É–¥—É—Ç –ø–æ–ø–∞–¥–∞—Ç—å –≤ –æ–¥–∏–Ω —Ä–∞–∑–¥–µ–ª.
3. **–ö–∞—Å—Ç–æ–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º (Custom Partitioning):**

    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
4. **–ü—Ä–∏–º–µ—Ä —Å –∫–ª—é—á–∞–º–∏:**

    - –¢–æ–ø–∏–∫ —Å 3 —Ä–∞–∑–¥–µ–ª–∞–º–∏:

        ```
        Key: "user1" -> Partition 0
        Key: "user2" -> Partition 1
        Key: "user3" -> Partition 2
        ```

5. **Manual Partitioning:**

    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –≤ –∫–∞–∫–æ–π —Ä–∞–∑–¥–µ–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.

---
#### 7. –ì–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ Kafka
- *At least once*. –ì–∞—Ä–∞–Ω—Ç–∏—è —Ç–æ–≥–æ, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –æ–¥–∏–Ω —Ä–∞–∑, –ª–∏–±–æ –±–æ–ª—å—à–µ. 
- *At most once*. –ì–∞—Ä–∞–Ω—Ç–∏—è —Ç–æ–≥–æ, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –º–∞–∫—Å–∏–º—É–º –æ–¥–∏–Ω —Ä–∞–∑, –ª–∏–±–æ –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤–æ–≤—Å–µ
- *Exactly once*. –ì–∞—Ä–∞–Ω—Ç–∏—è —Ç–æ–≥–æ, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑. –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π —É—Ä–æ–≤–µ–Ω—å –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É producer-–æ–º –∏ consumer-–æ–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

---
#### 8. –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–±–æ—Ç—ã —Å –æ—á–µ—Ä–µ–¥—è–º–∏?
- **Point-to-Point (P2P)**: –û–¥–∏–Ω –ø—Ä–æ–¥—é—Å–µ—Ä, –æ–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å. –°–æ–æ–±—â–µ–Ω–∏–µ —á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏.
- **Publish-Subscribe (Pub/Sub)**: –û–¥–∏–Ω –ø—Ä–æ–¥—é—Å–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º —á–µ—Ä–µ–∑ –æ–±–º–µ–Ω–Ω–∏–∫–∏.
- **Work Queue**: –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—è –Ω–∞–≥—Ä—É–∑–∫—É.
- **Dead Letter Queue (DLQ)**: –û—á–µ—Ä–µ–¥—å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.
- **Priority Queue**: –°–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.

---
#### 9. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Kafka?
*Apache Kafka* ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç–æ–∫–æ–≤, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

- *Producer* (–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å) ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Kafka.
- *Consumer* (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å) ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Kafka.
- *Event* (–°–æ–±—ã—Ç–∏–µ) - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ. –°–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–ª—é—á–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ), –∑–Ω–∞—á–µ–Ω–∏—è, –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –º–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏.
- *Topics* (–¢–æ–ø–∏–∫–∏) ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å—É—â–Ω–æ—Å—Ç—å, —Ä–∞–∑–¥–µ–ª—è—é—â–∞—è –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∫–∞–Ω–∞–ª—ã. –ö–∞–∂–¥—ã–π —Ç–æ–ø–∏–∫ —Ö—Ä–∞–Ω–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è.
- *Partitions* (–ü–∞—Ä—Ç–∏—Ü–∏–∏) ‚Äî –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–æ–ø–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ü–∞—Ä—Ç–∏—Ü–∏–∏ –¥–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö.
- *Broker* (–ë—Ä–æ–∫–µ—Ä) ‚Äî —Å–µ—Ä–≤–µ—Ä, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Kafka.
- *ZooKeeper* ‚Äî —Å–ª—É–∂–∏—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –±—Ä–æ–∫–µ—Ä–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã. –û–¥–Ω–∞–∫–æ –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Kafka –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å KRaft (Kafka Raft), –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–Ω—è–µ—Ç ZooKeeper.
- *Consumer Group* (–ì—Ä—É–ø–ø–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π) ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–Ω—Å—å—é–º–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≥–æ —Ç–æ–ø–∏–∫–∞. –ö–∞–∂–¥—ã–π –∫–æ–Ω—Å—å—é–º–µ—Ä –≤ –≥—Ä—É–ø–ø–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Ç–æ–ø–∏–∫–∞, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---
#### 10. Kafka. Consumer Group
*Consumer Group* ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∫–æ–Ω—Å—å—é–º–µ—Ä–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –æ–¥–Ω–∏–º —Ç–æ–ø–∏–∫–æ–º, –¥–ª—è:

- *–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏*: –∫–∞–∂–¥—ã–π –∫–æ–Ω—Å—å—é–º–µ—Ä –∏–∑ –≥—Ä—É–ø–ø—ã —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∏–∑ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ä—Ç–∏—Ü–∏–π, –∏–∑–±–µ–≥–∞—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –Ω–∞—Å —Ç—Ä–∏ –ø–∞—Ä—Ç–∏—Ü–∏–∏ –∏ —Ç—Ä–∏ –∫–æ–Ω—Å—å—é–º–µ—Ä–∞ –≤ –≥—Ä—É–ø–ø–µ, –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–æ–π –ø–∞—Ä—Ç–∏—Ü–∏–µ–π.
- *–ì–∏–±–∫–æ—Å—Ç–∏*: –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Å—å—é–º–µ—Ä–æ–≤ –≤ –≥—Ä—É–ø–ø–µ –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

–ö–æ–Ω—Å—å—é–º–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—Ç—Å—è —Ç–∞–∫, —á—Ç–æ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–æ–≤–Ω–æ –æ–¥–Ω–∏–º –∫–æ–Ω—Å—å—é–º–µ—Ä–æ–º –≤ –≥—Ä—É–ø–ø–µ, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—é ¬´–æ–¥–∏–Ω —Ä–∞–∑¬ª –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π.

---
#### 11. –ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç Kafka –∫–ª–∞—Å—Ç–µ—Ä?

Kafka-–∫–ª–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏, —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. –ï–≥–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                        |
| ----------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| **–ë—Ä–æ–∫–µ—Ä—ã (Brokers)**         | –°–µ—Ä–≤–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π (producers) –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π (consumers). –ö–∞–∂–¥—ã–π –±—Ä–æ–∫–µ—Ä –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID. |
| **–¢–æ–ø–∏–∫–∏ (Topics)**           | –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π. –°–æ–æ–±—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Ç–æ–ø–∏–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º (partitions).                                              |
| **–†–∞–∑–¥–µ–ª—ã (Partitions)**      | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏. –°–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–∞–∑–¥–µ–ª–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã, –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è.                      |
| **–†–µ–ø–ª–∏–∫–∏ (Replicas)**        | –ö–æ–ø–∏–∏ —Ä–∞–∑–¥–µ–ª–æ–≤, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –Ω–∞ –¥—Ä—É–≥–∏—Ö –±—Ä–æ–∫–µ—Ä–∞—Ö –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.                                                                           |
| **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (Controller)**   | –û–¥–∏–Ω –∏–∑ –±—Ä–æ–∫–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ —Å–ª—É—á–∞–µ –æ—Ç–∫–∞–∑–∞.                              |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ (Producers)** | –ö–ª–∏–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—É–±–ª–∏–∫—É—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç–æ–ø–∏–∫–∏.                                                                                                  |
| **–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ (Consumers)**   | –ö–ª–∏–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∏—Ç–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Ç–æ–ø–∏–∫–æ–≤, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á–∏.                                                       |
| **Consumer Group**            | –ì—Ä—É–ø–ø–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–º–µ—Å—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–≥–æ —Ç–æ–ø–∏–∫–∞, —Ä–∞–∑–¥–µ–ª—è—è –Ω–∞–≥—Ä—É–∑–∫—É.                                              |
| **Zookeeper / KRaft**         | –°–µ—Ä–≤–∏—Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±—Ä–æ–∫–µ—Ä–æ–≤ (Zookeeper –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ KRaft –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Kafka).             |

---
#### 12. –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π vs Rest


| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞          | –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka, RabbitMQ)                           | REST API                                        |
| ----------------------- | ------------------------------------------------------------- | ----------------------------------------------- |
| **–ú–æ–¥–µ–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏** | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (–æ—á–µ—Ä–µ–¥–∏, —Ç–æ–ø–∏–∫–∏)                                 | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (–∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç)                       |
| **–°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏**   | –í—ã—Å–æ–∫–∞—è, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö | –ó–∞–≤–∏—Å—è—Ç –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ HTTP —Å–µ—Ä–≤–µ—Ä–∞      |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏** | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (ACK), —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π      | –û–±—ã—á–Ω–æ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**    | –í—ã—Å–æ–∫–∞—è, –±–ª–∞–≥–æ–¥–∞—Ä—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –±—Ä–æ–∫–µ—Ä–æ–≤   | –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è   |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**    | –ì–∏–±–∫–∞—è, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö               | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π                      |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | –¢—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π                | –õ–µ–≥—á–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π HTTP   |

---
#### 13. Pull –∏ push –º–æ–¥–µ–ª–∏, –≤ —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞?

 **Pull (–≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ):**

- **–û–ø–∏—Å–∞–Ω–∏–µ:**
    - –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —É —Å–µ—Ä–≤–µ—Ä–∞ (–∏–ª–∏ –±—Ä–æ–∫–µ—Ä–∞).
    - –ü—Ä–∏–º–µ—Ä: Kafka, –≥–¥–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ —Å–∞–º–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–æ–≥–¥–∞ –∑–∞–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
    - –ö–ª–∏–µ–Ω—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏.
    - –õ–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞.
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
    - –ú–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞, –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Ä–µ–¥–∫–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
    - –¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö.

 **Push (–∑–∞–ø–∏—Ö–∏–≤–∞–Ω–∏–µ):**

- **–û–ø–∏—Å–∞–Ω–∏–µ:**
    - –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É –ø–æ –º–µ—Ä–µ –∏—Ö –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è.
    - –ü—Ä–∏–º–µ—Ä: WebSocket, Firebase Cloud Messaging.
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
    - –ú–µ–Ω—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É.
    - –£–¥–æ–±–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è).
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
    - –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –±–æ–ª—å—à–∏–º –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö.
    - –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ—Ç–æ–∫–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

 **Kafka –∏ –º–æ–¥–µ–ª–∏:**

- Kafka –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Pull –º–æ–¥–µ–ª—å**:
    - –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ (Consumers) —Å–∞–º–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —É –±—Ä–æ–∫–µ—Ä–æ–≤.
    - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ.

---
#### 14. –ö–∞–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Kafka –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –∑–∞–¥–≤–æ–µ–Ω–∏–π –∏ –ø–æ—Ç–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏–π?

–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ Kafka –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (producer) –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –∏–∑-–∑–∞ —Å–±–æ–µ–≤ –∏–ª–∏ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–æ–∫.

 **–ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏:**

1. **–í–∫–ª—é—á–µ–Ω–∏–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è:**
    
    - –í–∫–ª—é—á–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `enable.idempotence` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–¥—é—Å–µ—Ä–∞:
        
        ```java
        Properties props = new Properties();
        props.put("enable.idempotence", "true");
        ```
        
    - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Kafka –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è (**Producer ID**) –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (**Sequence Number**).
2. **–†–µ—Ç—Ä–∞–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–¥—é—Å–µ—Ä–∞:**
    
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `retries` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–ª—É—á–∞–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫:
        
        ```java
        props.put("retries", Integer.MAX_VALUE);
        ```
        
3. **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è:**
    
    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π (`acks`) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `"all"`, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ –≤—Å–µ —Ä–µ–ø–ª–∏–∫–∏:
        
        ```java
        props.put("acks", "all");
        ```
        
4. **Idempotent Producer:**
    
    - –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ Kafka –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –±—Ä–æ–∫–µ—Ä–∞.

 **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –¥–ª—è –≥—Ä—É–ø–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π:
    
    ```java
    props.put("transactional.id", "unique-transaction-id");
    producer.initTransactions();
    producer.beginTransaction();
    producer.send(...);
    producer.commitTransaction();
    ```
    
---
#### 15. –ö–∞–∫ –≤ Kafka –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π?

 **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ (partition):**

1. **–ü–æ—Ä—è–¥–æ–∫ –≤–Ω—É—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞:**
    
    - –°–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. Kafka –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –∏—Ö –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –±—ã–ª–∏ –∑–∞–ø–∏—Å–∞–Ω—ã.
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å —Å –æ–¥–Ω–∏–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º:**
    
    - –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ä–∞–∑–¥–µ–ª.
3. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (`acks`):**
    
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `acks=all` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∞–Ω–æ –≤—Å–µ–º–∏ —Ä–µ–ø–ª–∏–∫–∞–º–∏ –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º.
4. **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:**
    
    - –í–∫–ª—é—á–µ–Ω–∏–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∏–∑-–∑–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

 **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏:**

- Kafka –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ —Ç–æ–ø–∏–∫–∞, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---
#### 16. –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –æ–¥–Ω—É –ø–∞—Ä—Ç–∏—Ü–∏—é?

–ß—Ç–æ–±—ã –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –Ω–∞–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –≤ –æ–¥–Ω—É –ø–∞—Ä—Ç–∏—Ü–∏—é:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ (Key):**
    
    - –£–∫–∞–∂–∏—Ç–µ –∫–ª—é—á —Å–æ–æ–±—â–µ–Ω–∏—è (`key`), —á—Ç–æ–±—ã Kafka –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –µ–≥–æ –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞:
        
        ```java
        producer.send(new ProducerRecord<>("topic", "key", "value"));
        ```
        
    - –°–æ–æ–±—â–µ–Ω–∏—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–ª—é—á–æ–º –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ä–∞–∑–¥–µ–ª.
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–∞—Ä—Ç–∏—à–µ–Ω–µ—Ä–∞:**
    
    - –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `Partitioner`, —á—Ç–æ–±—ã –∑–∞–¥–∞–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
        
        ```java
        public class CustomPartitioner implements Partitioner {
            @Override
            public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {
                // –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞
                return somePartitionIndex;
            }
        }
        ```
        
    - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–∞—Ä—Ç–∏—à–µ–Ω–µ—Ä –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
        
        ```java
        props.put("partitioner.class", "com.example.CustomPartitioner");
        ```
        
3. **–í—ã–±–æ—Ä —Ä–∞–∑–¥–µ–ª–∞ –≤—Ä—É—á–Ω—É—é:**
    
    - –£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä —Ä–∞–∑–¥–µ–ª–∞ –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
        
        ```java
        producer.send(new ProducerRecord<>("topic", 0, null, "value"));
        ```
        
    - –ó–¥–µ—Å—å `0` ‚Äî –Ω–æ–º–µ—Ä —Ä–∞–∑–¥–µ–ª–∞.

---
#### 17. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Round Robin?

**Round Robin** ‚Äî —ç—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã —Ç–æ–ø–∏–∫–∞.

 **–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã:**

1. **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
    
    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –Ω–µ –∑–∞–¥–∞–µ—Ç –∫–ª—é—á (`key`) –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `DefaultPartitioner`.
2. **–õ–æ–≥–∏–∫–∞:**
    
    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ä–∞–∑–¥–µ–ª.
    - –°–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.
    - –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ —Ü–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.
3. **–ü—Ä–∏–º–µ—Ä:**
    
    - –¢–æ–ø–∏–∫ –∏–º–µ–µ—Ç 3 —Ä–∞–∑–¥–µ–ª–∞:
        
        ```
        Partition 0: Msg1, Msg4
        Partition 1: Msg2, Msg5
        Partition 2: Msg3, Msg6
        ```
        

 **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- Round Robin –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É –≤—Å–µ–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏.
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏.
- –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –ª–∏–¥–µ—Ä—ã, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±–∏—Ä–∞–µ—Ç –ª–∏–¥–µ—Ä–∞ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏.

---
#### 18. Acknowledgment –≤ Kafka

**Acknowledgment (acks)** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Kafka. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –±—Ä–æ–∫–µ—Ä–∞ –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.

 **–¢–∏–ø—ã acks:**

1. **acks = 0:**
    
    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –Ω–µ –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
    - –°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è, –Ω–æ –Ω–µ–Ω–∞–¥–µ–∂–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π).
2. **acks = 1:**
    
    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –ª–∏–¥–µ—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞.
    - –°–æ–æ–±—â–µ–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º, –µ—Å–ª–∏ –ª–∏–¥–µ—Ä –∑–∞–ø–∏—Å–∞–ª –µ–≥–æ –≤ –ª–æ–≥.
    - –í–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π, –µ—Å–ª–∏ –ª–∏–¥–µ—Ä —Å–±–æ–∏—Ç –¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫.
3. **acks = all (–∏–ª–∏ -1):**
    
    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –≤—Å–µ—Ö —Ä–µ–ø–ª–∏–∫, –≤–∫–ª—é—á–∞—è –ª–∏–¥–µ—Ä–∞.
    - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å: —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ä–µ–ø–ª–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.
    - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

 **–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ acks:**

```java
Properties props = new Properties();
props.put("acks", "all");
```

---
#### 19. –°–º–µ—â–µ–Ω–∏–µ (offset) –≤ Kafka

**Offset** ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞. –û–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–º–µ—â–µ–Ω–∏–µ (–Ω–æ–º–µ—Ä) —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥–µ.

 **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç offset:**

1. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:**
    
    - –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª–µ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π offset, –Ω–∞—á–∏–Ω–∞—è —Å `0`.
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
    
    - –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç offset, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —É–∂–µ –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã.
    - Offset —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Kafka (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º —Ç–æ–ø–∏–∫–µ `__consumer_offsets`) –∏–ª–∏ –≤ –∫–ª–∏–µ–Ω—Ç–µ.
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
    
    - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (auto commit):**
        - Kafka —Å–∞–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç offset –ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è.
        - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `enable.auto.commit=true`.
    - **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (manual commit):**
        
        - –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å —Å–∞–º –æ–±–Ω–æ–≤–ª—è–µ—Ç offset –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.
        - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–µ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.
        
        ```java
        consumer.commitSync(); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ offset —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
        ```
        

 **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã offset:**

- –¢–æ–ø–∏–∫ —Å 2 —Ä–∞–∑–¥–µ–ª–∞–º–∏:
    
    ```
    Partition 0: Msg1 (offset=0), Msg2 (offset=1)
    Partition 1: Msg3 (offset=0), Msg4 (offset=1)
    ```
    
- –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è offset –∫–∞–∫ —Ç–æ—á–∫—É –æ—Ç—Å—á–µ—Ç–∞.

---
#### 20. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Kafka

Kafka –ø–æ–∑–≤–æ–ª—è–µ—Ç **—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ**, —Ç–∞–∫ –∫–∞–∫ —Å–æ–æ–±—â–µ–Ω–∏—è **–Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è**.

 **üìå –ö–∞–∫ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ?**

1. **–ò–∑–º–µ–Ω–∏—Ç—å offset —É Consumer'–∞**
    
    - Kafka —Ö—Ä–∞–Ω–∏—Ç **offset (–ø–æ–∑–∏—Ü–∏—é –≤ —Ç–æ–ø–∏–∫–µ)** –∫–∞–∂–¥–æ–≥–æ Consumer'–∞.
    - –ú–æ–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å offset **–Ω–∞–∑–∞–¥** –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ.
    
    üìå **–ü—Ä–∏–º–µ—Ä:**
    
    ```sh
    kafka-consumer-groups --bootstrap-server localhost:9092 --group my-group --reset-offsets --to-earliest --execute
    ```
    
    ‚úî –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç offset –Ω–∞ **—Å–∞–º–æ–µ –Ω–∞—á–∞–ª–æ** (`--to-earliest`).
    
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `enable.auto.commit=false`**
    
    - –ï—Å–ª–∏ **offset –Ω–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è**, Consumer –±—É–¥–µ—Ç —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.
    
    üìå **–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
    
    ```java
    Properties props = new Properties();
    props.put("enable.auto.commit", "false"); // Offset –Ω–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    ```
    
3. **–ß–∏—Ç–∞—Ç—å –∏–∑ `__consumer_offsets`**
    
    - Kafka —Ö—Ä–∞–Ω–∏—Ç offset'—ã –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç–æ–ø–∏–∫–µ `__consumer_offsets`.
    - –ú–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–∏–π offset –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ.

---
#### 21. DLQ topic?

**Dead Letter Queue (DLQ)** ‚Äì —ç—Ç–æ **–æ—Ç–¥–µ–ª—å–Ω—ã–π Kafka-—Ç–æ–ø–∏–∫**, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è **—Å–æ–æ–±—â–µ–Ω–∏—è —Å –æ—à–∏–±–∫–∞–º–∏**.

 **üìå –ó–∞—á–µ–º –Ω—É–∂–µ–Ω DLQ?**

- –ï—Å–ª–∏ **Consumer –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–∫–∞ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏).
- –ß—Ç–æ–±—ã **–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É** –¥—Ä—É–≥–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
- –î–ª—è **–ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏** –ø–æ–∑–∂–µ.

 **üìå –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DLQ?**

 **1Ô∏è‚É£ –í—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ DLQ**

üìå **–ü—Ä–∏–º–µ—Ä –Ω–∞ Java:**

```java
try {
    processMessage(record);
} catch (Exception e) {
    ProducerRecord<String, String> dlqRecord =
        new ProducerRecord<>("dlq-topic", record.key(), record.value());
    kafkaProducer.send(dlqRecord);
}
```

‚úî –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª–æ—Å—å, –æ–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ **DLQ-—Ç–æ–ø–∏–∫**.

 **2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Kafka Connect DLQ**

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Kafka Connect**, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DLQ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```properties
errors.deadletterqueue.topic.name=dlq-topic
errors.deadletterqueue.context.headers.enable=true
```

‚úî –°–æ–æ–±—â–µ–Ω–∏—è —Å –æ—à–∏–±–∫–∞–º–∏ –±—É–¥—É—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ DLQ**.


