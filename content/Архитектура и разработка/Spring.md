+++
title = 'Spring'
weight = 3
bookFlatSection = true
+++

## Spring

#### 1. –ó–∞—á–µ–º –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Spring? –ü–æ—á–µ–º—É –µ–≥–æ —Ç–∞–∫ –ª—é–±—è—Ç?
*Spring* ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Java. –ï–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —à–∏—Ä–æ–∫–æ–º—É –Ω–∞–±–æ—Ä—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---
#### 2. Inversion of Control
–≠—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –æ–±—ä–µ–∫—Ç–æ–≤ Spring-—É

---
#### 3. Dependency Injection
*Dependency Injection* (–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π) ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç—É –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑–≤–Ω–µ, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–≤–∞–ª –∏—Ö —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. DI —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º.

---
***Dependency Injection vs dependency lookup***

|**–ö—Ä–∏—Ç–µ—Ä–∏–π**|**Dependency Injection**|**Dependency Lookup**|
|---|---|---|
|**–°—É—Ç—å**|–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏–∑–≤–Ω–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –∏–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º).|–û–±—ä–µ–∫—Ç —Å–∞–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—á–∞—â–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞).|
|**–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**|–õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å mock-–æ–±—ä–µ–∫—Ç–∞–º–∏.|–¢—Ä–µ–±—É–µ—Ç –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.|
|**–£—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ç—Ä–æ–ª—è**|–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –æ–±—ä–µ–∫—Ç –∏—Ö –Ω–µ —Å–æ–∑–¥–∞—ë—Ç.|–û–±—ä–µ–∫—Ç —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.|
|**–ü—Ä–∏–º–µ—Ä**|Spring –≤–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏–ª–∏ XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.|–í—Ä—É—á–Ω—É—é –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `ApplicationContext.getBean(...)`.|

---
***–ö–æ–≥–¥–∞ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è —Å–ø–æ—Å–æ–± –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ setter?***

- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ–±—ä–µ–∫—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö.
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–æ–¥: –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–æ–¥–æ–º, –≥–¥–µ –Ω–µ–ª—å–∑—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤.

#### 4. –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∑–Ω–∞–µ—à—å?

–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
- –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- –ß–µ—Ä–µ–∑ —Å–µ—Ç—Ç–µ—Ä 
- –ß–µ—Ä–µ–∑ –ø–æ–ª—è

| **–°–ø–æ—Å–æ–±**                    | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                | **–ü–ª—é—Å—ã**                                                                                            | **–ú–∏–Ω—É—Å—ã**                                                                                         | **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**                                     |
| ----------------------------- | --------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| **–ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**         | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞.                                | - –ì–∞—Ä–∞–Ω—Ç–∏—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏.  <br>- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ –≤–∏–¥–Ω—ã.  <br>- –í—ã—Å–æ–∫–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å. | - –ù–µ—É–¥–æ–±–Ω–æ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ —á–∏—Å–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.  <br>- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.      | –ö–æ–≥–¥–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –∏ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. |
| **–ß–µ—Ä–µ–∑ setter**              | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.        | - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.  <br>- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –≤ runtime.               | - –í–æ–∑–º–æ–∂–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.  <br>- –ú–µ–Ω–µ–µ —è–≤–Ω—ã–π.  | –ö–æ–≥–¥–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –∏–ª–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è.           |
| **–ß–µ—Ä–µ–∑ –ø–æ–ª—è (field)**        | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞, –æ–±—ã—á–Ω–æ —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π. | - –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞.  <br>- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (Spring, CDI).                         | - –°–ª–æ–∂–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.  <br>- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —è–≤–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.  <br>- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è. | –ë—ã—Å—Ç—Ä–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ Spring —á–µ—Ä–µ–∑ `@Autowired`.                |


---
#### 5. –ü–æ—á–µ–º—É –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä?

- –ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞, –∏ –∏—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —á—ë—Ç–∫–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ, —á—Ç–æ –æ–±—ä–µ–∫—Ç –Ω–µ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å: –ü—Ä–æ—â–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å mock-–æ–±—ä–µ–∫—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤.
- –Ø–≤–Ω–æ—Å—Ç—å: –í–∏–¥–Ω–æ, –∫–∞–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ–±—ä–µ–∫—Ç–∞.

---
#### 6. @Autowired
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–Ω–µ–¥—Ä—è–µ—Ç –±–∏–Ω—ã. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Autowired` –ø–æ–º–µ—á–∞—é—Ç:
- –°–µ—Ç—Ç–µ—Ä
- –ü–æ–ª–µ
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

---
#### 7. @Qualifier vs @Primary
–ï—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –±–∏–Ω–∞ (–ø–æ —Ç–∏–ø—É –∏ –∏–º–µ–Ω–∏) Spring –Ω–µ –∑–Ω–∞–µ—Ç –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤—ã–¥–∞–µ—Ç *exception*. –ï—Å–ª–∏ –Ω–∞–¥ –æ–¥–Ω–∏–º –∏–∑ —ç—Ç–∏—Ö –±–∏–Ω–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ `@Primary`, —Ç–æ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ. –ù–æ –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–±–æ—Ç–µ –æ–±–∞ —ç—Ç–∏—Ö –±–∏–Ω–∞, –º–æ–∂–Ω–æ –Ω–∞–¥ –∫–∞–∂–¥—ã–º –ø–æ—Å—Ç–∞–≤–∏—Ç—å `@Qualifier` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è, –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç—Ç–∏—Ö –±–∏–Ω–æ–≤ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å `@Autowired`)

|**–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**|**–û–ø–∏—Å–∞–Ω–∏–µ**|**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**|
|---|---|---|
|**`@Primary`**|–£–∫–∞–∑—ã–≤–∞–µ—Ç –±–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å—Ä–µ–¥–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö.|–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –±–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ.|
|**`@Qualifier`**|–Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π –±–∏–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–µ–¥–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö.|–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–∏–Ω, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `@Primary`.|

---
#### 8. –ß—Ç–æ —Ç–∞–∫–æ–µ Bean?
Bean –≤ Spring ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Spring IoC. –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.

---
***@Bean***

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Bean` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç(–±–∏–Ω) –∏ —ç—Ç–∏ –±–∏–Ω—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –º–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä—è—Ç—å –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Bean` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –±–∏–Ω–∞ –≤ Java-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–≤ –∫–ª–∞—Å—Å–µ, –ø–æ–º–µ—á–µ–Ω–Ω–æ–º –∫–∞–∫ `@Configuration`).

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∏–Ω–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∏–Ω–æ–≤ –ø—É—Ç–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ –±–∏–Ω–æ–≤ –≤ –º–µ—Ç–æ–¥–∞—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```java
public interface BaseConfig {
    @Bean
    default TransferServiceImpl transferService() {
        return new TransferServiceImpl();
    }
}
@Configuration
public class AppConfig implements BaseConfig {
}

```

---
***–ß—Ç–æ —Ç–∞–∫–æ–µ BeanDefinition?***

`BeanDefinition` ‚Äî —ç—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ —É–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–∏–Ω.

–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ö–ª–∞—Å—Å –±–∏–Ω–∞.
- –ï–≥–æ —Å–∫–æ—É–ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, singleton –∏–ª–∏ prototype).
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- –ú–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è.

---
***–ö–∞–∫ Spring —Å–æ–∑–¥–∞–µ—Ç –±–∏–Ω—ã?***

- **–ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
    - Spring —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `@Configuration`, XML –∏–ª–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –Ω–∞ –∫–ª–∞—Å—Å–∞—Ö.
- **–°–æ–∑–¥–∞–Ω–∏–µ BeanDefinition:**
    - –ù–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç `BeanDefinition` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏–Ω–∞.
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–Ω–∞:**
    - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥.
    - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–æ–ª—è –∏–ª–∏ —Å–µ—Ç—Ç–µ—Ä—ã).
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞:**
    - –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ `BeanPostProcessor` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `@Autowired` –∏–ª–∏ `@PostConstruct`).
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
    - –ì–æ—Ç–æ–≤—ã–π –±–∏–Ω –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ `ApplicationContext`.

---
***–ö–∞–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –±–∏–Ω?***

1. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (`@Bean`, `@Component`, `@Value`, `@Scope`).
2. XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.
3. Java-–∫–æ–¥ (–≤ –∫–ª–∞—Å—Å–µ —Å `@Configuration`).
4. –°—Ä–µ–¥—Å—Ç–≤–∞ —Ç–∏–ø–∞ `@PostConstruct` –∏ `@PreDestroy` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º.

---
***–í —á–µ–º –ø—Ä–æ–±–ª–µ–º–∞ —Ç–æ–≥–æ, —á—Ç–æ –º—ã –Ω–µ –º–æ–∂–µ–º final –ø–æ–ª–µ —Å–¥–µ–ª–∞—Ç—å –≤ Bean-–µ?***

–ï—Å–ª–∏ –≤ –±–∏–Ω–µ –µ—Å—Ç—å `final` –ø–æ–ª–µ, —Ç–æ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –≤ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.
Spring –º–æ–∂–µ—Ç –Ω–µ –∑–Ω–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—è –Ω–∞ —ç—Ç–∞–ø–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞, —Ç–∞–∫ –∫–∞–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `@Autowired`).

---
***–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å Bean –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ?***

–ù–µ—Ç, Spring –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –Ω–∞–ø—Ä—è–º—É—é.
–†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é —Å–µ—Ç—Ç–µ—Ä –∏–ª–∏ –≤—ã–∑–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ `ApplicationContext`.

---
***–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –±–∏–Ω–∞?***

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Lazy`.

---
***–ö–∞–∫–∏–µ –µ—Å—Ç—å —Å–ø–æ—Å–æ–±—ã –¥–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–Ω–∞?***

Spring –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`customization`) –±–∏–Ω–æ–≤ –ø–µ—Ä–µ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

 **1Ô∏è‚É£ –°–ø–æ—Å–æ–±—ã –¥–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–Ω–∞**

|**–ú–µ—Ç–æ–¥**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
|---|---|
|`@PostConstruct`|–ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–Ω–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π|
|`@PreDestroy`|–ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –±–∏–Ω–∞|
|`InitializingBean#afterPropertiesSet()`|–ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–≤–æ–π—Å—Ç–≤|
|`DisposableBean#destroy()`|–ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º –±–∏–Ω–∞|
|`@Bean(initMethod, destroyMethod)`|–£–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è|
|`BeanPostProcessor`|–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –±–∏–Ω—ã –¥–æ –∏ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏|
|`ApplicationContextAware`|–î–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `ApplicationContext` –≤–Ω—É—Ç—Ä–∏ –±–∏–Ω–∞|

 **üìå 1. `@PostConstruct` –∏ `@PreDestroy`**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –±–∏–Ω–∞ –∏ –ø–µ—Ä–µ–¥ –µ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º.

```java
@Component
public class MyBean {
    @PostConstruct
    public void init() {
        System.out.println("–ë–∏–Ω —Å–æ–∑–¥–∞–Ω!");
    }

    @PreDestroy
    public void destroy() {
        System.out.println("–ë–∏–Ω –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω!");
    }
}
```

üìå **–í—ã–≤–æ–¥:**

```
–ë–∏–Ω —Å–æ–∑–¥–∞–Ω!
–ë–∏–Ω –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω!
```


 **üìå 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `InitializingBean` –∏ `DisposableBean`**

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –±–∏–Ω–∞.

```java
@Component
public class MyBean implements InitializingBean, DisposableBean {
    @Override
    public void afterPropertiesSet() {
        System.out.println("–ë–∏–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!");
    }

    @Override
    public void destroy() {
        System.out.println("–ë–∏–Ω —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è!");
    }
}
```

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ**, —Ç–∞–∫ –∫–∞–∫ `@PostConstruct` –∏ `@PreDestroy` —É–¥–æ–±–Ω–µ–µ.


 **üìå 3. `@Bean(initMethod, destroyMethod)`**

–í `@Configuration` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –±–∏–Ω–∞.

```java
@Configuration
public class AppConfig {
    @Bean(initMethod = "init", destroyMethod = "cleanup")
    public MyBean myBean() {
        return new MyBean();
    }
}

class MyBean {
    public void init() {
        System.out.println("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ initMethod");
    }

    public void cleanup() {
        System.out.println("–£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ destroyMethod");
    }
}
```

üìå **–í—ã–≤–æ–¥:**

```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ initMethod
–£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ destroyMethod
```

 **üìå 4. `BeanPostProcessor`**

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –±–∏–Ω—ã **–¥–æ –∏ –ø–æ—Å–ª–µ –∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**.

```java
@Component
public class CustomBeanPostProcessor implements BeanPostProcessor {
    @Override
    public Object postProcessBeforeInitialization(Object bean, String beanName) {
        System.out.println("Before init: " + beanName);
        return bean;
    }

    @Override
    public Object postProcessAfterInitialization(Object bean, String beanName) {
        System.out.println("After init: " + beanName);
        return bean;
    }
}
```

üìå **–í—ã–≤–æ–¥:**

```
Before init: myBean
After init: myBean
```

 **üìå 5. `ApplicationContextAware`**

–î–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `ApplicationContext` –≤–Ω—É—Ç—Ä–∏ –±–∏–Ω–∞.

```java
@Component
public class MyBean implements ApplicationContextAware {
    private ApplicationContext applicationContext;

    @Override
    public void setApplicationContext(ApplicationContext applicationContext) {
        this.applicationContext = applicationContext;
        System.out.println("ApplicationContext —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!");
    }
}
```

‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –±–∏–Ω–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞.

---
***–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∏–Ω–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ Singleton?***

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Spring **–±–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ (Singleton)**. –û–¥–Ω–∞–∫–æ, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∏–Ω–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞**.

 **üìå 1. –†–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –≤ `@Bean`**

```java
@Configuration
public class AppConfig {
    @Bean("bean1")
    public MyBean myBean1() {
        return new MyBean("–ü–µ—Ä–≤—ã–π –±–∏–Ω");
    }

    @Bean("bean2")
    public MyBean myBean2() {
        return new MyBean("–í—Ç–æ—Ä–æ–π –±–∏–Ω");
    }
}

class MyBean {
    private String name;

    public MyBean(String name) {
        this.name = name;
    }
}
```

üìå –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –±–∏–Ω–∞:

```java
@Autowired
@Qualifier("bean1")
private MyBean myBean1;
```

 **üìå 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@Primary` –∏ `@Qualifier`**

–ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∏–Ω–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π** –±–∏–Ω —Å `@Primary`.

```java
@Component
@Primary
public class FirstService implements MyService {}

@Component
public class SecondService implements MyService {}
```

üìå –¢–µ–ø–µ—Ä—å `@Autowired` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **FirstService**.  
–ï—Å–ª–∏ –Ω—É–∂–µ–Ω **SecondService**, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º `@Qualifier`:

```java
@Autowired
@Qualifier("secondService")
private MyService myService;
```

 **üìå 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@Profile`**

–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –±–∏–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç **–ø—Ä–æ—Ñ–∏–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**.

```java
@Component
@Profile("dev")
public class DevBean implements MyBean {}

@Component
@Profile("prod")
public class ProdBean implements MyBean {}
```

üìå –ó–∞–ø—É—Å–∫ —Å `-Dspring.profiles.active=dev` —Å–æ–∑–¥–∞—Å—Ç **DevBean**, –∞ —Å `-Dspring.profiles.active=prod` ‚Äî **ProdBean**.

---
***–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –±–∏–Ω—ã?***

 **üìå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring ‚Äì `ApplicationContext`**

Spring **—Å–æ–∑–¥–∞–µ—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç –±–∏–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ IoC (`ApplicationContext`)**.  
üìå –ö–æ–≥–¥–∞ Spring –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –æ–Ω:

1. **–°–∫–∞–Ω–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å—ã** —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ `@Component`, `@Service`, `@Repository`.
2. **–°–æ–∑–¥–∞–µ—Ç –±–∏–Ω—ã** –∏ –ø–æ–º–µ—â–∞–µ—Ç –∏—Ö –≤ `ApplicationContext`.
3. **–£–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º** (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ).

üìå **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –±–∏–Ω –∏–∑ `ApplicationContext`?**

```java
ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
MyBean myBean = context.getBean(MyBean.class);
```

üìå **–ö–∞–∫ –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –±–∏–Ω—ã?**

```java
String[] beanNames = context.getBeanDefinitionNames();
for (String beanName : beanNames) {
    System.out.println(beanName);
}
```

‚úÖ –í—ã–≤–µ–¥–µ—Ç –≤—Å–µ –±–∏–Ω—ã, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

---
#### 9. –°–∫–æ—É–ø –±–∏–Ω–æ–≤. Web —Å–∫–æ—É–ø

- Singleton
  - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ, –≥–¥–µ –æ–Ω —Ç—Ä–µ–±—É–µ—Ç—Å—è
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é
  - –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

- Prototype
  - –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –±–∏–Ω, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
  - –ë–∏–Ω—ã —Å–æ —Å–∫–æ—É–ø–æ–º `prototype` –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è Spring, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –≤—ã—Ö–æ–¥—è—Ç –∏–∑ –µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
  - **–ù–ï –•–†–ê–ù–Ø–¢–°–Ø** –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Spring-–∞


Web —Å–∫–æ—É–ø:

|**–°–∫–æ—É–ø**|**–û–ø–∏—Å–∞–Ω–∏–µ**|**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**|
|---|---|---|
|**`request`**|–°–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ –∫–∞–∂–¥—ã–π HTTP-–∑–∞–ø—Ä–æ—Å.|–ë–∏–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞.|
|**`session`**|–°–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ –∫–∞–∂–¥—É—é HTTP-—Å–µ—Å—Å–∏—é.|–ë–∏–Ω –∂–∏–≤—ë—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π HTTP-—Å–µ—Å—Å–∏–∏.|
|**`application`**|–°–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ –≤–µ—Å—å `ServletContext` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–∏–Ω–≥–ª—Ç–æ–Ω—É, –Ω–æ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).|–ë–∏–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞–º–∫–∞—Ö –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.|
|**`websocket`**|–°–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞ –Ω–∞ –∫–∞–∂–¥—É—é WebSocket-—Å–µ—Å—Å–∏—é.|–ë–∏–Ω –∂–∏–≤—ë—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è WebSocket-—Å–µ—Å—Å–∏–∏.|

---
***–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –°–∫–æ—É–ø***

1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Scope:

```java
public class CustomScope implements Scope {
    private Map<String, Object> beans = new HashMap<>();

    @Override
    public Object get(String name, ObjectFactory<?> objectFactory) {
        return beans.computeIfAbsent(name, k -> objectFactory.getObject());
    }

    @Override
    public Object remove(String name) {
        return beans.remove(name);
    }
    // –†–µ–∞–ª–∏–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã...
}

```

2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:

```java
@Bean
public static CustomScopeConfigurer customScopeConfigurer() {
    CustomScopeConfigurer configurer = new CustomScopeConfigurer();
    configurer.addScope("customScope", new CustomScope());
    return configurer;
}

```

---
#### 10. –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å, —á—Ç–æ–±—ã –ø—Ä–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –±–∏–Ω–∞ —Å–æ —Å–∫–æ—É–ø–æ–º prototype –≤ singleton-–±–∏–Ω (—á–µ—Ä–µ–∑ autowiring, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ –∏–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º) –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –ø–æ–ª—É—á–∞–ª –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä, –∏ –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–∏ —ç—Ç–æ–º, –≤–∫–ª—é—á–∞—è —Å–ª—É—á–∞–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏?


 1. **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ `ObjectProvider` (–∏–ª–∏ `ObjectFactory`)**

```java
@Component
@Scope("singleton")
public class MySingletonService {

    private final ObjectProvider<MyPrototypeBean> prototypeProvider;

    public MySingletonService(ObjectProvider<MyPrototypeBean> prototypeProvider) {
        this.prototypeProvider = prototypeProvider;
    }

    public void doWork() {
        // –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ ‚Äî –Ω–æ–≤—ã–π –±–∏–Ω
        MyPrototypeBean prototype = prototypeProvider.getObject();
        prototype.action();
    }
}
```

**+** –ü—Ä–æ—Å—Ç–æ, –Ω–µ –Ω—É–∂–Ω–æ AOP-–ø—Ä–æ–∫—Å–∏  
**‚Äì** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Spring API, —Å–ª–æ–∂–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    

 2. **`@Lookup`-–º–µ—Ç–æ–¥ (–º–µ—Ç–æ–¥-–∏–Ω—ä–µ–∫—Ü–∏—è)**

```java
@Component
@Scope("singleton")
public abstract class MySingletonService {

    public void doWork() {
        MyPrototypeBean prototype = createPrototype();
        prototype.action();
    }

    @Lookup
    protected abstract MyPrototypeBean createPrototype();
}

@Component
@Scope("prototype")
public class MyPrototypeBean {
    public void action() { ‚Ä¶ }
}
```

- Spring –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª–∞—Å—Å, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π `createPrototype()` –∏ –≤—ã–∑—ã–≤–∞—é—â–∏–π `getBean(...)`.
    

**+** –ù–µ—Ç —è–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –∫–æ–¥–µ   
**‚Äì** –ú–µ–Ω–µ–µ –æ—á–µ–≤–∏–¥–Ω–æ, –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤
    

 3. **–ü—Ä–æ–∫—Å–∏-bean (`proxyMode = TARGET_CLASS`)**

```java
@Component
@Scope(value = "prototype", proxyMode = ScopedProxyMode.TARGET_CLASS)
public class MyPrototypeBean { ‚Ä¶ }

@Component
@Scope("singleton")
public class MySingletonService {
    private final MyPrototypeBean prototype;  // —ç—Ç–æ –ø—Ä–æ–∫—Å–∏

    public MySingletonService(MyPrototypeBean prototype) {
        this.prototype = prototype;
    }

    public void doWork() {
        prototype.action(); // –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –ø—Ä–æ–∫—Å–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
    }
}
```

**+** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–∫—Å–∏–Ω–≥, –∫–æ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º   
**‚Äì** –ü—Ä–æ–∫—Å–∏-–æ–±—ë—Ä—Ç–∫–∞, –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –º–µ—Ç–æ–¥–æ–≤, instanceof, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
    
 4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ `ApplicationContext`**

```java
@Component
public class MySingletonService {

    @Autowired
    private ApplicationContext ctx;

    public void doWork() {
        MyPrototypeBean prototype = ctx.getBean(MyPrototypeBean.class);
        prototype.action();
    }
}
```

**+** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –ª—é–±—ã—Ö –±–∏–Ω–æ–≤   
**‚Äì** –ü—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –º–µ–Ω–µ–µ —á–∏—Å—Ç—ã–π –∫–æ–¥
    
 **–ü—Ä–æ–±–ª–µ–º—ã –∏ –Ω—é–∞–Ω—Å—ã**

1. **–ù–µ—è–≤–Ω–æ–µ —Å–º–µ—à–µ–Ω–∏–µ —Å–ª–æ—ë–≤**
    
    - –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ –±–∏–∑–Ω–µ—Å-–∫–æ–¥ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
        
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**  
    –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ `MyPrototypeBean` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `FastPrototype`, `SlowPrototype`), –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω—è—Ç—å:
    
    ```java
    public MySingletonService(
        @Qualifier("fastPrototypeBean") ObjectProvider<MyPrototypeBean> fastProvider) { ‚Ä¶ }
    ```
    
3. **–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ prototype-–±–∏–Ω–æ–≤**  
    –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∞–º –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç `@PreDestroy` —É prototype-–±–∏–Ω–æ–≤. –ï—Å–ª–∏ –≤ –Ω–∏—Ö –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –ø—Ä–∏–¥—ë—Ç—Å—è –æ—á–∏—â–∞—Ç—å –≤—Ä—É—á–Ω—É—é.
    
4. **–ü—Ä–æ–∫—Å–∏ –∏ AOP**  
    –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `proxyMode` –º–µ—Ç–æ–¥—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ `final` –∏–ª–∏ `private`, –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è. –≠—Ç–æ –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å –ª–æ–≥–∏–∫—É.
    
5. **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**  
    –ï—Å–ª–∏ singleton-–±–∏–Ω —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è, –ø—Ä–æ–∫—Å–∏-—Å—Å—ã–ª–∫–∏ –Ω–∞ prototype-–±–∏–Ω –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
    


---
#### 11. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Bean. –í–æ–ø—Ä–æ—Å—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∫–ª–∞—Å—Å–∞–º–∏ –≤—Ö–æ–¥—è—â–∏–º–∏ –≤ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–∞
Spring —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º –±–∏–Ω–æ–≤ –≤ —Ä–∞–º–∫–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ IoC. –≠—Ç–æ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤.

**–°–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞** -> **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** -> **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞** -> **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** -> **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** -> **–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ**


{{< figure src="Spring_Bean_Life_cycle_Flow.png" >}}

- –°–Ω–∞—á–∞–ª–∞ –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞—à–∏ Bean Definitions IoC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É 
- IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç Bean Definitions —á—Ç–æ–±—ã —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–º–µ—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∏ –∑–∞—Ç–µ–º —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –±–∏–Ω–æ–≤
- –ó–∞—Ç–µ–º –∏—Ç–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ –≤—Å–µ–º Bean Definitions –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö 
- –î–∞–ª–µ–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è PostConstruct –º–µ—Ç–æ–¥—ã
- –ü–µ—Ä–µ–¥ –∏ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã BeanPostProcessor
- –ù–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ–º –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω. –ï—Å–ª–∏ —É —ç—Ç–æ–≥–æ –±–∏–Ω–∞ —Å–∫–æ—É–ø singleton - —Ö—Ä–∞–Ω–∏–º –µ–≥–æ –≤ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ–º –º–∞—Å—Å–∏–≤–µ IoC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ï—Å–ª–∏ –∂–µ –¥—Ä—É–≥–æ–π —Å–∫–æ—É–ø - –±–∏–Ω —Å—Ä–∞–∑—É –∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- –î–ª—è –≤—Å–µ—Ö –±–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ IoC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –ø–µ—Ä–µ–¥ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `@PreDestroy` –º–µ—Ç–æ–¥ 

|**–≠—Ç–∞–ø**|**–û–ø–∏—Å–∞–Ω–∏–µ**|**–ú–µ—Ç–æ–¥—ã/–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏**|
|---|---|---|
|**–°–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞**|Spring —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥.|–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∏–Ω–∞ (–∏–ª–∏ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥).|
|**–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**|–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è, Spring –≤–Ω–µ–¥—Ä—è–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–æ–ª—è, –∏–ª–∏ —Å–µ—Ç—Ç–µ—Ä—ã).|`@Autowired`, `@Inject`, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã.|
|**–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**|–ë–∏–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π. –≠—Ç–æ —ç—Ç–∞–ø, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∏–Ω–∞.|`BeanPostProcessor` ‚Äî `postProcessBeforeInitialization`, `postProcessAfterInitialization`.|
|**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**|–ï—Å–ª–∏ –±–∏–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `InitializingBean` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@PostConstruct`, –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.|`afterPropertiesSet()`, `@PostConstruct`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `@Bean(initMethod)`.|
|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**|–ë–∏–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –≠—Ç–æ —ç—Ç–∞–ø, –∫–æ–≥–¥–∞ –±–∏–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã.|–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞ —á–µ—Ä–µ–∑ `@Autowired` –∏–ª–∏ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤.|
|**–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ**|–ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –±–∏–Ω (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–≤), –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –æ—á–∏—Å—Ç–∫–∏.|`destroy()`, `@PreDestroy`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `@Bean(destroyMethod)`.|

---
#### 12. @ComponentScan
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@ComponentScan` —É–∫–∞–∑—ã–≤–∞–µ—Ç Spring –≥–¥–µ –∏—Å–∫–∞—Ç—å –∫–ª–∞—Å—Å—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Component` –∏–ª–∏ –µ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π (`@RestController`, `@Controller`, `@Repository`, `@Service` –∏ —Ç.–¥)

---
#### 13. @Conditional –≤ Spring
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Conditional` –≤ Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É—Å–ª–æ–≤–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –±–∏–Ω—ã –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –∏–ª–∏ –∏—Å–∫–ª—é—á–∞—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–Ω–µ—à–Ω–∏—Ö –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —É—Å–ª–æ–≤–∏–π.

---
***–ß—Ç–æ —Ç–∞–∫–æ–µ @ConditionalOnBean, @ConditionalOnProperty?***

 **1. `@ConditionalOnBean`**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@ConditionalOnBean` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –±–∏–Ω –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –±–∏–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**.

 **–û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

–í—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∏–Ω –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–∂–µ –µ—Å—Ç—å –±–∏–Ω –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏–ª–∏ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º.

```java
@Configuration
public class MyConfig {

    @Bean
    public MyService myService() {
        return new MyService();
    }

    @Bean
    @ConditionalOnBean(MyService.class)
    public DependentService dependentService() {
        return new DependentService();
    }
}

```
- –ï—Å–ª–∏ –±–∏–Ω `MyService` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –±–∏–Ω `DependentService`.
- –ï—Å–ª–∏ –±–∏–Ω–∞ `MyService` –Ω–µ—Ç, `DependentService` –Ω–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω.

**2. `@ConditionalOnProperty`**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@ConditionalOnProperty` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –±–∏–Ω –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–º–µ–µ—Ç –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**.

 **–û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

–í—ã —Ö–æ—Ç–∏—Ç–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–∏–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–≤–æ–π—Å—Ç–≤–∞, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`application.properties` –∏–ª–∏ `application.yml`).

```
# application.properties
feature.enabled=true
```

```java
@Configuration
public class MyConfig {

    @Bean
    @ConditionalOnProperty(prefix = "feature", name = "enabled", havingValue = "true", matchIfMissing = false)
    public FeatureService featureService() {
        return new FeatureService();
    }
}

```

- –ï—Å–ª–∏ `feature.enabled=true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –±–∏–Ω `FeatureService` –±—É–¥–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.
- –ï—Å–ª–∏ `feature.enabled=false` –∏–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –±–∏–Ω –Ω–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω (–µ—Å–ª–∏ `matchIfMissing=false`).

|–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è|–£—Å–ª–æ–≤–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–Ω–∞|–¢–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏|
|---|---|---|
|**`@ConditionalOnBean`**|–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–æ–≥–æ –±–∏–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ|–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –±–∏–Ω–∞|
|**`@ConditionalOnProperty`**|–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`application.properties` –∏–ª–∏ `application.yml`)|–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞|

---
#### 14. @Service, @Repository, @Component

|**–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**|**–û–ø–∏—Å–∞–Ω–∏–µ**|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**|**–°–µ–º–∞–Ω—Ç–∏–∫–∞**|
|---|---|---|---|
|**`@Component`**|–û–±—â–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Spring.|–î–ª—è –æ–±—ã—á–Ω—ã—Ö –±–∏–Ω–æ–≤.|–ú–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–ª—è –ª—é–±—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø–∞.|
|**`@Service`**|–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `@Component`, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è, —á—Ç–æ –±–∏–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π.|–î–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤.|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ –±–æ–ª–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ, —á–µ–º `@Component`.|
|**`@Repository`**|–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `@Component`, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è, —á—Ç–æ –±–∏–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (DAO).|–î–ª—è –∫–ª–∞—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –¥–∞–Ω–Ω—ã–º–∏.|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ JDBC –∏–ª–∏ JPA). –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è DAO.|

---
***Singleton-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω. –ï—Å–ª–∏ –º—ã –Ω–∞ –∫–ª–∞—Å—Å –ø–æ—Å—Ç–∞–≤–∏–º @Service, —ç—Ç–æ –±—É–¥–µ—Ç Singleton?***

–ï—Å–ª–∏ –≤—ã —Å—Ç–∞–≤–∏—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Service`, Spring —Å–æ–∑–¥–∞—ë—Ç –±–∏–Ω —Å **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∏–Ω–≥–ª—Ç–æ–Ω**. –û–¥–Ω–∞–∫–æ —ç—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è Singleton-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º, –ø–æ—Å–∫–æ–ª—å–∫—É Spring —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–∏—Å—É—â–∏–µ –æ–±—ã—á–Ω–æ–º—É Singleton.

---
***@Bean vs @Component***

 **1Ô∏è‚É£ @Bean**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö** (`@Configuration`).
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∏–Ω **–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ** (—á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥).
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–∏–Ω –ø–µ—Ä–µ–¥ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ–º.

üìå **–ü—Ä–∏–º–µ—Ä:**

```java
@Configuration
public class AppConfig {
    @Bean
    public MyService myService() {
        return new MyServiceImpl();
    }
}
```

‚úÖ **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

- –ï—Å–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏.
- –ï—Å–ª–∏ –±–∏–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω `@Component` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π –∫–ª–∞—Å—Å).

 **2Ô∏è‚É£ @Component**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** (`@ComponentScan`).
- –ü–æ–∑–≤–æ–ª—è–µ—Ç Spring **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å** –±–∏–Ω—ã.

üìå **–ü—Ä–∏–º–µ—Ä:**

```java
@Component
public class MyServiceImpl implements MyService {
}
```

‚úÖ **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

- –ï—Å–ª–∏ –∫–ª–∞—Å—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Spring –∏ –µ–≥–æ –º–æ–∂–Ω–æ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π—Ç–∏**.

 **üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è**

|**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**|`@Bean`|`@Component`|
|---|---|---|
|**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?**|–í `@Configuration` –∫–ª–∞—Å—Å–µ|–ù–∞ –∫–ª–∞—Å—Å–µ|
|**–ö–∞–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–∏–Ω?**|–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ|–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (`@ComponentScan`)|
|**–ì–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏?**|–í—ã—Å–æ–∫–∞—è (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)|–ú–µ–Ω—å—à–∞—è|
|**–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?**|–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Å–ª–æ–∂–Ω—ã–π –±–∏–Ω|–ö–æ–≥–¥–∞ –∫–ª–∞—Å—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Spring|

---
#### 15. @Controller –∏ @RestController
- `@Controller` –í –æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, JSON), –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `@ResponseBody` –∫ –º–µ—Ç–æ–¥—É
- `@RestContoller` –≠—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è `@Controller` –∏ `@ResponseBody`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ REST.
–í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, JSON –∏–ª–∏ XML) –≤ —Ç–µ–ª–µ HTTP-–æ—Ç–≤–µ—Ç–∞.
–ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å `@ResponseBody` –∫ –∫–∞–∂–¥–æ–º—É –º–µ—Ç–æ–¥—É.

---
#### 16. @ResponseBody vs ResponseEntity
- *ResponseEntity* ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∫ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞, —Ç–∞–∫ –∏ HTTP-—Å—Ç–∞—Ç—É—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 200 OK, 404 Not Found) –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTTP-–æ—Ç–≤–µ—Ç–∞–º–∏
- `@ResponseBody` –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–µ—Ç–æ–¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω –∫–∞–∫ —Ç–µ–ª–æ HTTP-–æ—Ç–≤–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, JSON, XML)

---
#### 17. Spring MVC. –ß—Ç–æ —ç—Ç–æ? –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∞–µ—Ç?
Spring MVC ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –º–æ–¥—É–ª–µ–π Spring Framework, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ Model-View-Controller. –†–µ—à–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏. –†–∞–∑–±–∏–≤–∞–µ–º –ª–æ–≥–∏–∫—É –Ω–∞ MVC
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤. JSP, Thymeleaf –∏ —Ç.–¥
- –£–ø—Ä–æ—â–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

---
#### 18. –ü–∞—Ä–∞–¥–∏–≥–º–∞ AOP
*AOP* - —ç—Ç–æ —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ —Ç—Ä–æ–≥–∞—è –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ—Ç. –ù–æ –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏ –≤ –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –ø–∏—Å–∞–ª—Å—è –ª–æ–≥. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–ª—è—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ —Ä—É–∫–∞–º–∏ - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ (–∞—Å–ø–µ–∫—Ç), –∞ Spring —Å–∞–º "–≤—Å—Ç–∞–≤–∏—Ç" –µ–≥–æ —Ç—É–¥–∞, –≥–¥–µ –Ω—É–∂–Ω–æ, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞.

---
#### 19. –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
–¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å - —ç—Ç–æ –∫–æ–≥–¥–∞ –¥–≤–∞ –∫–ª–∞—Å—Å–∞ –≤–∑–∞–∏–º–Ω–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Autowired`. –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—É—é Spring Framework –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç—å. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤:

- –í–Ω–µ–¥—Ä—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ set-–µ—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@Lazy`. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Lazy` –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–æ—Ä–≤–∞—Ç—å –∫—Ä—É–≥

```java
@Component
public class BeanA {
    private final BeanB beanB;

    @Autowired
    public BeanA(@Lazy BeanB beanB) {
        this.beanB = beanB;
    }
}

@Component
public class BeanB {
    private final BeanA beanA;

    @Autowired
    public BeanB(@Lazy BeanA beanA) {
        this.beanA = beanA;
    }
}
```

---
#### 20. Spring Boot
*Spring Boot* ‚Äî —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ Spring, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∫ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- –°—Ç–∞—Ä—Ç–µ—Ä—ã ‚Äî —ç—Ç–æ –≥–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã –±–∏–±–ª–∏–æ—Ç–µ–∫ (–º–æ–¥—É–ª–µ–π), –∫–æ—Ç–æ—Ä—ã–µ –≤–∫–ª—é—á–∞—é—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä - –í Spring Boot —Å–µ—Ä–≤–µ—Ä **–≤—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —Å—Ç–∞—Ä—Ç–µ—Ä `spring-boot-starter-web`, Spring Boot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç Tomcat –∏–ª–∏ Jetty
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - Spring Boot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç, –∫–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ - –í –æ–±—ã—á–Ω–æ–º Spring –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å WAR —Ñ–∞–π–ª –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –í Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ **–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π JAR —Ñ–∞–π–ª**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–µ—Ä–≤–µ—Ä.

---
***–ö–∞–∫ Spring Boot —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º***

1. **–ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Auto Configuration)**:
    
    - Spring Boot –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–æ "–∏–∑ –∫–æ—Ä–æ–±–∫–∏".
    - –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `spring-boot-starter-web`, —Ç–æ Spring Boot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç `DispatcherServlet`, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã.
2. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:
    
    - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Spring Boot —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–∞–∫–µ—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ `@Component`, `@Service`, `@Repository`, `@Controller` –∏ —Ç. –¥.), —á—Ç–æ–±—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∏–Ω—ã.
    - –≠—Ç–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–ª–∞—Å—Å–∞, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `@SpringBootApplication`, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ã—á–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ü–∞–∫–µ—Ç—ã –∏ –ø–æ–¥–ø–∞–∫–µ—Ç—ã, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞, –±—É–¥—É—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
3. **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**:
    
    - Spring Boot –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ Tomcat, Jetty –∏–ª–∏ Undertow, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏–º—ã–π JAR –∏–ª–∏ WAR —Ñ–∞–π–ª.
4. **–ü—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**:
    
    - –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, Spring Boot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω.
5. **–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Å `@SpringBootApplication`**:
    
    - –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –û–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á:
        - –í–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `@EnableAutoConfiguration`.
        - –†–∞–∑—Ä–µ—à–∞–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `@ComponentScan`.
        - –í–∫–ª—é—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring —Å –ø–æ–º–æ—â—å—é `@Configuration`.

---
***–ì–¥–µ Spring Boot –∏—â–µ—Ç –±–∏–Ω—ã?***

1. **–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Å `@SpringBootApplication`**:
    
    - Spring Boot –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã —Å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `@SpringBootApplication`.
    - –í—Å–µ –∫–ª–∞—Å—Å—ã –≤ —ç—Ç–æ–º –ø–∞–∫–µ—Ç–µ –∏ –µ–≥–æ –ø–æ–¥–ø–∞–∫–µ—Ç–∞—Ö –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@Component`, `@Service`, `@Repository` –∏ —Ç. –¥.).
2. **–ü–∞–∫–µ—Ç —Å `@SpringBootApplication`**:
    
    - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Spring Boot —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –ø–∞–∫–µ—Ç –∏ –µ–≥–æ –ø–æ–¥–ø–∞–∫–µ—Ç—ã. **–ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ**, —á—Ç–æ–±—ã –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@SpringBootApplication` –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ –∫–æ—Ä–Ω–µ –ø–∞–∫–µ—Ç–∞, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –Ω–∞–π–¥–µ–Ω—ã.
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**:
    
    - –ú–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –ø–∞–∫–µ—Ç—ã –Ω—É–∂–Ω–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å, —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@ComponentScan`:
 
```java
@SpringBootApplication
@ComponentScan(basePackages = "com.example.myapp")
public class MyApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyApplication.class, args);
    }
}
```
        
–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –ø–∞–∫–µ—Ç–µ –∏–ª–∏ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –æ–±–ª–∞—Å—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π**:
    
    - –ï—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥), Spring Boot –±—É–¥–µ—Ç —Ç–∞–∫–∂–µ –∏—Å–∫–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–º—É –ø—Ä–æ—Ñ–∏–ª—é, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —á—Ç–æ –æ–Ω–∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ `@Profile`.


#### 21. Spring Boot vs Spring

- **Spring** ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –≥–∏–±–∫–æ—Å—Ç—å—é.
- **Spring Boot** ‚Äî —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Spring, –∫–æ—Ç–æ—Ä–æ–µ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ—â–µ, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–æ–∑–≤–æ–ª—è—è –±—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π.

|**–ö—Ä–∏—Ç–µ—Ä–∏–π**|**Spring**|**Spring Boot**|
|---|---|---|
|**–¶–µ–ª—å**|–ú–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.|–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.|
|**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**|–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å XML –∏–ª–∏ Java-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.|–ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.|
|**–ó–∞–ø—É—Å–∫**|–ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Tomcat).|–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã (Tomcat, Jetty, Undertow) –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.|
|**–ì–∏–±–∫–æ—Å—Ç—å**|–ë–æ–ª—å—à–∞—è –≥–∏–±–∫–æ—Å—Ç—å, –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.|–ú–µ–Ω—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏, –Ω–æ –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.|
|**–°–ª–æ–∂–Ω–æ—Å—Ç—å**|–ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.|–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.|
|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å.|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.|
|**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç XML –∏–ª–∏ Java-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–Ω–æ–≤.|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç application.properties –∏–ª–∏ application.yml –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.|


---
#### 22. Spring JDBC
*Spring JDBC* ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å Spring, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è JDBC (Java Database Connectivity). –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é SQL-–∑–∞–ø—Ä–æ—Å–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–∞–º–∏.

---
#### 23. Spring Data JPA
*Spring Data JPA* ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å Spring, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å JPA (Java Persistence API) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –Ω–µ –∑–∞–±–æ—Ç—è—Å—å –æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –¥–µ—Ç–∞–ª—è—Ö –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

---
#### 24. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Spring
–í Spring, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç, –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

---
#### 25. @Transactional. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?
`@Transactional` ‚Äî —ç—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏. –ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Transactional`, Spring –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –Ω–∞—á–∞–ª–æ, –∫–æ–º–º–∏—Ç –∏–ª–∏ –æ—Ç–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

---
***–ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–º–µ—Ç–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Transactional?***

- –ö–ª–∞—Å—Å. –í—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã —Å—Ç–∞–Ω—É—Ç `@Transactional` 
- –ú–µ—Ç–æ–¥

---
***–î–µ—Ñ–æ–ª—Ç–Ω—ã–π propagation***

Propagation.REQUIRED


---
***–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ Spring –≤—ã –∑–Ω–∞–µ—Ç–µ?***

- –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Transactional`
- TransactionManager
- TransactionTemplate

*TransactionManager* –∏ *TransactionTemplate*

- –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ)

*@Transactional*

- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- –ö–æ–≥–¥–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---
***@Transactional –ø–æ–≤–µ—Å–∏—Ç—å –Ω–∞ private –º–µ—Ç–æ–¥?***

–ï—Å–ª–∏ –≤—ã –ø–æ–º–µ—Å—Ç–∏—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Transactional` –Ω–∞ `private` –º–µ—Ç–æ–¥, —Ç–æ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞**, –ø–æ—Ç–æ–º—É —á—Ç–æ Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø—Ä–æ–∫—Å–∏-–º–µ—Ö–∞–Ω–∏–∑–º** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

---
***–ö–∞–∫–∏–µ –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã —É @Transactional?***

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Transactional` —É–ø—Ä–∞–≤–ª—è–µ—Ç **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ Spring**. –û–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ **–Ω–∞ –∫–ª–∞—Å—Å–µ –∏–ª–∏ –º–µ—Ç–æ–¥–µ**.

 **üìå –û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã**

|**–ê—Ç—Ä–∏–±—É—Ç**|**–û–ø–∏—Å–∞–Ω–∏–µ**|**–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**|
|---|---|---|
|`propagation`|–ö–∞–∫ –≤–µ–¥–µ—Ç —Å–µ–±—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (—Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é)|`REQUIRED`|
|`isolation`|–£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º)|`DEFAULT`|
|`readOnly`|–¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (–Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ)|`false`|
|`timeout`|–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)|-1 (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ)|
|`rollbackFor`|–ü–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–ª–∞–µ—Ç—Å—è rollback|–ü—É—Å—Ç–æ|
|`noRollbackFor`|–ò—Å–∫–ª—é—á–µ–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö rollback –Ω–µ –¥–µ–ª–∞–µ—Ç—Å—è|–ü—É—Å—Ç–æ|

 **üìå 1. `propagation` ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**

üìå **–í–∞—Ä–∏–∞–Ω—Ç—ã:**

|**–ó–Ω–∞—á–µ–Ω–∏–µ**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
|---|---|
|`REQUIRED`|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)|
|`REQUIRES_NEW`|–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é|
|`SUPPORTS`|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é, –Ω–æ –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏|
|`NOT_SUPPORTED`|–í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏|
|`MANDATORY`|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É|
|`NEVER`|–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏|

üìå **–ü—Ä–∏–º–µ—Ä:**

```java
@Transactional(propagation = Propagation.REQUIRES_NEW)
public void saveUser() {
    // –≠—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é, –¥–∞–∂–µ –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –¥—Ä—É–≥–∞—è
}
```

 **üìå 2. `isolation` ‚Äì —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏**

üìå **–í–∞—Ä–∏–∞–Ω—Ç—ã:**

|**–ó–Ω–∞—á–µ–Ω–∏–µ**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
|---|---|
|`DEFAULT`|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Ä–æ–≤–µ–Ω—å –ë–î|
|`READ_UNCOMMITTED`|–ü–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å **–Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** (–≥—Ä—è–∑–Ω–æ–µ —á—Ç–µ–Ω–∏–µ)|
|`READ_COMMITTED`|–ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å **–Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**|
|`REPEATABLE_READ`|–ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –±—ã–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω—ã|
|`SERIALIZABLE`|–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞, –Ω–æ –Ω–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)|

üìå **–ü—Ä–∏–º–µ—Ä:**

```java
@Transactional(isolation = Isolation.REPEATABLE_READ)
public void processOrder() {
    // –ó–∞—â–∏—Ç–∞ –æ—Ç "—Ñ–∞–Ω—Ç–æ–º–Ω—ã—Ö" —á—Ç–µ–Ω–∏–π
}
```

 **üìå 3. `readOnly` ‚Äì —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**

üìå –ï—Å–ª–∏ –º–µ—Ç–æ–¥ —Ç–æ–ª—å–∫–æ **—á–∏—Ç–∞–µ—Ç** –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `findById`), —Ç–æ `readOnly = true` —É—Å–∫–æ—Ä–∏—Ç —Ä–∞–±–æ—Ç—É.

```java
@Transactional(readOnly = true)
public User getUser(Long id) {
    return userRepository.findById(id).orElseThrow();
}
```

‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

 **üìå 4. `rollbackFor` ‚Äì –æ—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ**

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Spring **–æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `RuntimeException`**, –Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

```java
@Transactional(rollbackFor = Exception.class)
public void saveData() throws Exception {
    throw new Exception("–û—à–∏–±–∫–∞!"); // –¢–µ–ø–µ—Ä—å –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç rollback
}
```

---
#### 26. –ê—Ç—Ä–∏–±—É—Ç propagation —É @Transactional

- **REQUIRED** ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ `@Transactional` –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è, –µ—Å–ª–∏ –Ω–∏–∫–∞–∫–æ–π –µ—â–µ –Ω–µ—Ç
- **REQUIRES_NEW** ‚Äî –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–≤–æ—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è. –ü–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥, –≤–Ω–µ—à–Ω—è—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π - –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–π
- **NESTED** ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –≠—Ç–∞ –ø–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–∞—Ç–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π, –Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–∞—Ç–∏—Ç—Å—è, –ø–æ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ç–æ–∂–µ –æ—Ç–∫–∞—Ç–∏—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ
- **MANDATORY** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω—é—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –∞ –∏–Ω–∞—á–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
- **SUPPORTS** ‚Äî –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ï—Å–ª–∏ –µ–µ –Ω–µ—Ç, –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **NOT_SUPPORTED** ‚Äî –º–µ—Ç–æ–¥ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è. –¢–µ–∫—É—â–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- **NEVER** ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏


---
#### 27. @Transaction –ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∏–∑ –º–µ—Ç–æ–¥–∞ –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

–ï—Å–ª–∏ –≤—ã –≤—ã–∑–æ–≤–µ—Ç–µ –º–µ—Ç–æ–¥, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@Transactional`, –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞, —Ç–æ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞—á–Ω—ë—Ç—Å—è –∏–ª–∏ –Ω–µ –±—É–¥–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∞**, –µ—Å–ª–∏ –≤—ã–∑–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞–ø—Ä—è–º—É—é.

 **–ü–æ—á–µ–º—É?**

–í—ã–∑–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ **–Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏**, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Transactional` –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞.

```java
@Service
public class MyService {

    @Transactional
    public void transactionalMethod() {
        // –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –≤—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
    }

    public void callTransactionalMethod() {
        transactionalMethod(); // –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ù–ï –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
    }
}

```


 **–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å?**

 **1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –±–∏–Ω**

–ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –¥—Ä—É–≥–æ–≥–æ –±–∏–Ω–∞, –≤—ã–∑–æ–≤ –ø—Ä–æ–π–¥—ë—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏, –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞.

```java
@Service
public class MyService {

    @Transactional
    public void transactionalMethod() {
        // –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
    }
}

@Service
public class AnotherService {

    @Autowired
    private MyService myService;

    public void callMethod() {
        myService.transactionalMethod(); // –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
    }
}

```

 **2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `self-injection`**

–í—ã –º–æ–∂–µ—Ç–µ –≤–Ω–µ–¥—Ä–∏—Ç—å –±–∏–Ω —Å–∞–º–æ–≥–æ —Å–µ–±—è, —á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä—è–º—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏.

```java
@Service
public class MyService {

    @Autowired
    private MyService self;

    @Transactional
    public void transactionalMethod() {
        // –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
    }

    public void callTransactionalMethod() {
        self.transactionalMethod(); // –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
    }
}

```

---
#### 28. –ö–∞–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—É—â–Ω–æ—Å—Ç—è—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –≤ –º–µ—Ç–æ–¥–µ —Å @Transactional

- **`@Transactional` –Ω–∞ —Å–µ—Ä–≤–∏—Å–µ** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è managed-—Å—É—â–Ω–æ—Å—Ç–µ–π –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ (dirty checking).
- **–ù–µ –Ω—É–∂–Ω–æ** –≤—ã–∑—ã–≤–∞—Ç—å `save()` –¥–ª—è —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö entity ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤—ã—Ö –∏–ª–∏ detached.
- **merge()** –ø–æ–º–æ–≥–∞–µ—Ç –≤–µ—Ä–Ω—É—Ç—å detached-—Å—É—â–Ω–æ—Å—Ç—å –≤ managed-—Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- **flush()** –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ä–æ—á–Ω–æ —Å–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- –î–ª—è **—á—Ç–µ–Ω–∏—è** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `readOnly=true` ‚Äî —ç—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ **Propagation** –∏ —É—Ä–æ–≤–Ω–µ–º **Isolation**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö rollback‚Äô–æ–≤ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.


---
#### 29. @Async

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Async` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Spring –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ**, —Ç–æ –µ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

 **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `@Async`**

1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
    
    - –ú–µ—Ç–æ–¥, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Async`, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ.
    - –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø –º–æ–∂–µ—Ç –±—ã—Ç—å `void`, `Future`, –∏–ª–∏ `CompletableFuture`.
2. **Spring AOP:**
    
    - –ü–æ–¥–æ–±–Ω–æ `@Transactional`, `@Async` —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.
    - –í—ã–∑–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Spring –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–±–∏–Ω), —á—Ç–æ–±—ã `@Async` –æ–±—Ä–∞–±–æ—Ç–∞–ª–∞—Å—å.
3. **–ü—É–ª –ø–æ—Ç–æ–∫–æ–≤:**
    
    - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É–ª `SimpleAsyncTaskExecutor`, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–π.


---
#### 30. Starter –≤ Spring. –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã
Starters –≤ Spring ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–ª–µ–≥—á–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–µ–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ Spring-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü–ª—é—Å—ã**:
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ú–∏–Ω—É—Å—ã**:
- –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ú–µ–Ω—å—à–∞—è –≥–∏–±–∫–æ—Å—Ç—å

---
***–ö–∞–∫–∏–µ –æ—Ç–ª–∏—á–∏—è —Å—Ç–∞—Ä—Ç–µ—Ä–∞ –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏?***

 **üìå 1. –ß—Ç–æ —Ç–∞–∫–æ–µ `starter`?**

Spring Boot **Starter** ‚Äì —ç—Ç–æ **–Ω–∞–±–æ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π.

‚úÖ **–ü—Ä–∏–º–µ—Ä:**

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

–≠—Ç–æ—Ç `starter` –≤–∫–ª—é—á–∞–µ—Ç:

- `Spring MVC`
- `Tomcat`
- `Jackson`

üìå **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `starter`:**  
‚úî –£–ø—Ä–æ—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é  
‚úî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

 **üìå 2. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏?**

|**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**|**Starter**|**Library**|
|---|---|---|
|**–°–æ—Å—Ç–∞–≤**|–í–∫–ª—é—á–∞–µ—Ç –Ω–∞–±–æ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫|–û–¥–∏–Ω–æ—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞|
|**–ù–∞—Å—Ç—Ä–æ–π–∫–∞**|–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è|–¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏|
|**–ü—Ä–∏–º–µ—Ä**|`spring-boot-starter-data-jpa`|`hibernate-core`|

üìå **–ü—Ä–∏–º–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**

```xml
<dependency>
    <groupId>org.hibernate</groupId>
    <artifactId>hibernate-core</artifactId>
</dependency>
```

‚úÖ **Starter –≤–∫–ª—é—á–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É + –Ω—É–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.**

---
#### 31. Spring Criteria API

Spring Criteria API (—á–∞—Å—Ç—å Hibernate) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫–∏–π —Å–ø–æ—Å–æ–± –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **–æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤**, –ø–æ–∑–≤–æ–ª—è—è —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Java-–∫–ª–∞—Å—Å–æ–≤ –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL.

 **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Criteria API**

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**:
    
    - –£–¥–æ–±–Ω–æ –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–π, –∫–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π.
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤**:
    
    - –û—à–∏–±–∫–∏ –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
3. **–õ–µ–Ω–∏–≤–æ—Å—Ç—å**:
    
    - –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º.
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**:
    
    - –ü–æ–¥–∑–∞–ø—Ä–æ—Å—ã, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.


**–ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—â–Ω–æ—Å—Ç–∏

```java
@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    private double salary;

    // getters –∏ setters
}

```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Criteria API

```java
@Repository
public class EmployeeRepository {

    @PersistenceContext
    private EntityManager entityManager;

    public List<Employee> findEmployeesWithSalaryGreaterThan(double minSalary) {
        // –ü–æ–ª—É—á–∞–µ–º CriteriaBuilder
        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();

        // –°–æ–∑–¥–∞—ë–º CriteriaQuery
        CriteriaQuery<Employee> criteriaQuery = criteriaBuilder.createQuery(Employee.class);

        // –ö–æ—Ä–Ω–µ–≤–æ–π –æ–±—ä–µ–∫—Ç (FROM Employee)
        Root<Employee> root = criteriaQuery.from(Employee.class);

        // –£—Å–ª–æ–≤–∏–µ (WHERE salary > :minSalary)
        criteriaQuery.select(root)
                     .where(criteriaBuilder.gt(root.get("salary"), minSalary));

        // –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å
        return entityManager.createQuery(criteriaQuery).getResultList();
    }
}

```

---
#### 32. @Scheduled

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Scheduled` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∑–∞–¥–∞—á–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ **cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–π**.

---
#### 33. –ü–æ–Ω—è—Ç–∏–µ Controller –∏ Servlet –≤ Java. –≠—Ç–æ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ? –ï—Å–ª–∏ —Ä–∞–∑–Ω–æ–µ, –≤ —á–µ–º –æ—Ç–ª–∏—á–∏—è?

**`Servlet`** –∏ **`Controller`** ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, —Ö–æ—Ç—è –æ–±–∞ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Java –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –û–¥–Ω–∞–∫–æ –∏—Ö —Ä–æ–ª–∏ –∏ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è.

**Servlet** ‚Äî —ç—Ç–æ Java-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã (HTTP GET, POST –∏ —Ç.–¥.) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP-–æ—Ç–≤–µ—Ç—ã.  
–û–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Java.

**Controller** ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MVC (Model-View-Controller). –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Java —ç—Ç–æ –æ–±—ã—á–Ω–æ –∫–ª–∞—Å—Å, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, `@Controller` –≤ Spring MVC, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π.

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä **–∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –¥–µ—Ç–∞–ª–µ–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–±–æ—Ç—ã —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏), –ø–æ–∑–≤–æ–ª—è—è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ.

 **–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è Servlet –∏ Controller**

|–ö—Ä–∏—Ç–µ—Ä–∏–π|Servlet|Controller|
|---|---|---|
|**–û–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**|–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.|–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MVC.|
|**–†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞**|–¢—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.|–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.|
|**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–µ—Ä–≤–ª–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Tomcat).|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Spring MVC).|
|**–ì–∏–±–∫–æ—Å—Ç—å**|–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏.|–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –¥–µ–ª–µ–≥–∏—Ä—É—è –¥–µ—Ç–∞–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É.|
|**–£—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**|–ù–∏–∑–∫–∏–π: —Ä–∞–±–æ—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é —Å `HttpServletRequest` –∏ `HttpServletResponse`.|–í—ã—Å–æ–∫–∏–π: –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –ª–æ–≥–∏–∫–∏.|
|**–ü—Ä–∏–º–µ—Ä**|`HttpServlet`, `GenericServlet`.|`@Controller` –≤ Spring, `@RestController`.|


 **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

|–°–∏—Ç—É–∞—Ü–∏—è|Servlet|Controller|
|---|---|---|
|–í–∞–º –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏|–î–∞|–ù–µ—Ç|
|–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏|–†–µ–¥–∫–æ|–î–∞|
|–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏|–ù–µ—Ç|–î–∞|
|–í—ã –ø–∏—à–µ—Ç–µ —Å–ª–æ–∂–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ|–ù–µ–ø—Ä–∞–∫—Ç–∏—á–Ω–æ|–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ|

---
#### 34. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±—ä–µ–∫—Ç Filter? –í –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è?

**Filter** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–∑ Java Servlet API, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã. –§–∏–ª—å—Ç—Ä—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ—Ä–≤–ª–µ—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤.
- –°–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤.
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤.


 **–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä?**

–§–∏–ª—å—Ç—Ä—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è **–¥–æ** –ø–æ–ø–∞–¥–∞–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–ª–µ—Ç—É (–∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É) –∏ **–ø–æ—Å–ª–µ** –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–ª–µ—Ç–∞. –û–Ω–∏ —Å–ª—É–∂–∞—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–ª–µ—Ç–æ–º.

- **–î–æ —Å–µ—Ä–≤–ª–µ—Ç–∞:** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤—Ö–æ–¥—è—â–∏–π HTTP-–∑–∞–ø—Ä–æ—Å.
- **–ü–æ—Å–ª–µ —Å–µ—Ä–≤–ª–µ—Ç–∞:** –ú–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å HTTP-–æ—Ç–≤–µ—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∫–ª–∏–µ–Ω—Ç—É.

---
#### 35. –ß—Ç–æ —Ç–∞–∫–æ–µ ApplicationContext?

**`ApplicationContext`** ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Spring, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –±–∏–Ω–æ–≤, –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ **`BeanFactory`**, –¥–æ–±–∞–≤–ª—è—é—â–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AOP.

 **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ApplicationContext**

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–Ω-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ, —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –±–∏–Ω–æ–≤.
2. **–ò–Ω–∂–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã Dependency Injection (DI).
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π:**
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, ContextRefreshedEvent).
4. **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:**
    - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –ª–æ–∫–∞–ª—è–º–∏.
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AOP:**
    - –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –∞—Å–ø–µ–∫—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.


```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

public class MyApp {
    public static void main(String[] args) {
        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        MyBean myBean = context.getBean(MyBean.class);
        myBean.doSomething();
    }
}

```

---
***–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É ApplicationContext –∏ BeanFactory***

**`BeanFactory`** ‚Äî —ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ (–±–∏–Ω–∞–º–∏).  
–û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –±–∏–Ω–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É.  
–û–¥–Ω–∞–∫–æ **`BeanFactory`** –º–µ–Ω–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω, —á–µ–º **`ApplicationContext`**, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–Ω–∞–º–∏.

```java
import org.springframework.beans.factory.xml.XmlBeanFactory;
import org.springframework.core.io.ClassPathResource;

public class MyApp {
    public static void main(String[] args) {
        BeanFactory factory = new XmlBeanFactory(new ClassPathResource("beans.xml"));
        MyBean myBean = (MyBean) factory.getBean("myBean");
        myBean.doSomething();
    }
}

```

- **ApplicationContext** ‚Äî –±–æ–ª–µ–µ –º–æ—â–Ω—ã–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
- **BeanFactory** ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö –∏–ª–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.

 **–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É ApplicationContext –∏ BeanFactory**

| –ö—Ä–∏—Ç–µ—Ä–∏–π                            | ApplicationContext                                                                  | BeanFactory                                               |
| ----------------------------------- | ----------------------------------------------------------------------------------- | --------------------------------------------------------- |
| **–û–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**              | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.                        | –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–Ω–∞–º–∏.                  |
| **–ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–Ω–æ–≤**                  | –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –±–∏–Ω—ã –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (eager loading).                     | –ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–∏–Ω—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É (lazy loading).                 |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–±—ã—Ç–∏–π**               | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π (ApplicationEvent).                     | –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è.                                  |
| **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**             | –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (I18N).                                    | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.                                              |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AOP**                | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ AOP –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∞—Å–ø–µ–∫—Ç–æ–≤.                                               | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AOP.                            |
| **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** | –ú–µ–Ω–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–Ω –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –±–∏–Ω–æ–≤ (–∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –±–∏–Ω–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ). | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–∏–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É. |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π**             | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@Component`, `@Autowired`).                  | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.                                   |
| **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**         | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π, –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, REST –∏ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.                        | –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∏–Ω–∞–º–∏.                           |


 **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

| –°–∏—Ç—É–∞—Ü–∏—è                                     | ApplicationContext     | BeanFactory |
| -------------------------------------------- | ---------------------- | ----------- |
| –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | –î–∞                     | –ù–µ—Ç         |
| –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ —Å —Å–æ–±—ã—Ç–∏—è–º–∏                 | –î–∞                     | –ù–µ—Ç         |
| –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –±–∏–Ω–æ–≤ | –ù–µ—Ç                    | –î–∞          |
| –¢–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                          | –í–æ–∑–º–æ–∂–µ–Ω, –Ω–æ –∏–∑–±—ã—Ç–æ—á–µ–Ω | –î–∞          |

---

***–ú–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤?***

–î–∞, –≤ Spring –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –æ–±–ª–∞—Å—Ç–µ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Ä–∞–±–æ—Ç—ã —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏.

 **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤**

 **1. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã**

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π (parent) –∏ –¥–æ—á–µ—Ä–Ω–∏–π (child) –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã. –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–∂–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –±–∏–Ω—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º, –Ω–æ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.

**–ü—Ä–∏–º–µ—Ä:**

```java
ApplicationContext parentContext = new AnnotationConfigApplicationContext(ParentConfig.class);
AnnotationConfigApplicationContext childContext = new AnnotationConfigApplicationContext();
childContext.setParent(parentContext);
childContext.register(ChildConfig.class);
childContext.refresh();
```

 **2. –ù–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤**

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –Ω–µ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –æ–Ω–∏ –Ω–µ –¥–µ–ª—è—Ç—Å—è –±–∏–Ω–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä:**

```java
ApplicationContext context1 = new AnnotationConfigApplicationContext(AppConfig1.class);
ApplicationContext context2 = new AnnotationConfigApplicationContext(AppConfig2.class);
```

 **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤**

- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –ò–∑–æ–ª—è—Ü–∏—è –º–æ–¥—É–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- –£–ª—É—á—à–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞.

 **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**

- –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
- –í–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –±–∏–Ω–æ–≤ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏.

---
#### 36. –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @RequestParam –∏ @PathVariable?

–≠—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ Spring MVC –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –û–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

 **@RequestParam**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å **–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (Query Parameters)** –∏–∑ URL.

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ `?` –≤ —Å—Ç—Ä–æ–∫–µ –∑–∞–ø—Ä–æ—Å–∞.
- –ú–æ–∂–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

**–ü—Ä–∏–º–µ—Ä:** –ó–∞–ø—Ä–æ—Å:  
`GET /api/users?name=John&page=1`

```java
@GetMapping("/api/users")
public String getUser(@RequestParam String name, @RequestParam(defaultValue = "0") int page) {
    return "Name: " + name + ", Page: " + page;
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç: Name: John, Page: 1
```

 **@PathVariable**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ **–ø—É—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ (Path Variables)**.

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≤ —à–∞–±–ª–æ–Ω URL.

**–ü—Ä–∏–º–µ—Ä:** –ó–∞–ø—Ä–æ—Å:  
`GET /api/users/42`

```java
@GetMapping("/api/users/{id}")
public String getUserById(@PathVariable int id) {
    return "User ID: " + id;
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç: User ID: 42
```

---
#### 37. @ConfigurationProperties? ConfigurationProperties vs Value

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@ConfigurationProperties` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ —Å–≤–æ–π—Å—Ç–≤ –∏–∑ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `application.properties` –∏–ª–∏ `application.yml`) –∫ Java-–∫–ª–∞—Å—Å—É.

 **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç @ConfigurationProperties?**

- –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É –∫ –ø–æ–ª—è–º –∫–ª–∞—Å—Å–∞.
- –£–¥–æ–±–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä—É–ø–ø–∞–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- –¢—Ä–µ–±—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@EnableConfigurationProperties` –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ `@Component`.

```yaml
app:
  name: MyApp
  version: 1.0

```

–ö–ª–∞—Å—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```java
@ConfigurationProperties(prefix = "app")
@Component
public class AppProperties {
    private String name;
    private String version;

    // Getters and setters
}

```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```java
@Component
public class MyService {
    private final AppProperties appProperties;

    public MyService(AppProperties appProperties) {
        this.appProperties = appProperties;
    }

    public void printConfig() {
        System.out.println("App Name: " + appProperties.getName());
        System.out.println("Version: " + appProperties.getVersion());
    }
}

```


**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ @ConfigurationProperties –∏ @Value**

| –ö—Ä–∏—Ç–µ—Ä–∏–π                     | @ConfigurationProperties                                    | @Value                               |
| ---------------------------- | ----------------------------------------------------------- | ------------------------------------ |
| **–ü—Ä–∏–≤—è–∑–∫–∞ –≥—Ä—É–ø–ø —Å–≤–æ–π—Å—Ç–≤**   | –£–¥–æ–±–Ω–∞ –¥–ª—è –≥—Ä—É–ø–ø —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º).          | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤.      |
| **–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤**         | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–∫–∏). | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã.    |
| **–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ YAML**    | –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –≤–∫–ª—é—á–∞—è —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.        | –ú–µ–Ω–µ–µ —É–¥–æ–±–Ω–∞ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.   |
| **–ì–∏–±–∫–æ—Å—Ç—å**                 | –£–¥–æ–±–Ω–∞ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.                            | –ë—ã—Å—Ç—Ä–µ–µ –¥–ª—è –º–µ–ª–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.         |
| **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**     | `@ConfigurationProperties(prefix = "app")`                  | `@Value("${app.name}")`              |
| **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏**                | –¢—Ä–µ–±—É–µ—Ç `@EnableConfigurationProperties` –∏–ª–∏ `@Component`.  | –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π. |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è** | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ `@Validated`.                  | –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é.           |

 **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

|–°–∏—Ç—É–∞—Ü–∏—è|@ConfigurationProperties|@Value|
|---|---|---|
|–ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤|–î–∞|–ù–µ—Ç|
|–û–¥–∏–Ω–æ—á–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ|–ù–µ—Ç|–î–∞|
|–°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Å–ø–∏—Å–∫–∏, –æ–±—ä–µ–∫—Ç—ã)|–î–∞|–ù–µ—Ç|
|–ü—Ä–æ—Å—Ç—ã–µ, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è|–ù–µ—Ç|–î–∞|

---
#### 38. @Value. –ß—Ç–æ —ç—Ç–æ?

`@Value` ‚Äî —ç—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Spring, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (`application.properties`, `application.yml`), —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –ø–æ–ª—è, –º–µ—Ç–æ–¥—ã –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–∞.

**–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @Value?**

```properties
app.name=MyApp
app.version=1.0

```

```java
@Component
public class AppConfig {

    @Value("${app.name}")
    private String appName;

    @Value("${app.version}")
    private String appVersion;

    @Value("${app.description:Default Description}") // –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    private String appDescription;

    public void printConfig() {
        System.out.println("Name: " + appName);
        System.out.println("Version: " + appVersion);
        System.out.println("Description: " + appDescription);
    }
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// Name: MyApp 
// Version: 1.0 
// Description: Default Description

```

---
#### 39. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DispatcherServlet?

**`DispatcherServlet`** ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Spring MVC, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã, –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –∫–ª–∏–µ–Ω—Ç—É.

–≠—Ç–æ **—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π** –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Spring MVC.

 **–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã DispatcherServlet**

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–∞:**
    
    - `DispatcherServlet` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ —Ñ—Ä–æ–Ω—Ç-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤ `web.xml` –∏–ª–∏ —á–µ—Ä–µ–∑ Java Config).
2. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:**
    
    - –° –ø–æ–º–æ—â—å—é `HandlerMapping` –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ URL –∏ –º–µ—Ç–æ–¥–µ HTTP.
3. **–í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
    
    - –° –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (`@RequestMapping`, `@GetMapping`, `@PostMapping` –∏ –¥—Ä.) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω.
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:**
    
    - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ModelAndView` –∏–ª–∏ –æ–±—ä–µ–∫—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON/XML (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å `@ResponseBody`).
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞:**
    
    - –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ViewResolver`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (HTML, JSP, JSON –∏ –¥—Ä.) –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å.
6. **–í–æ–∑–≤—Ä–∞—Ç –∫–ª–∏–µ–Ω—Ç—É:**
    
    - –ì–æ—Ç–æ–≤—ã–π HTTP-–æ—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –∫–ª–∏–µ–Ω—Ç—É.



 **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Ä–∞–±–æ—Ç–µ DispatcherServlet**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –û–ø–∏—Å–∞–Ω–∏–µ                                                                              |
| --------------------- | ------------------------------------------------------------------------------------- |
| **HandlerMapping**    | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.       |
| **HandlerAdapter**    | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞).             |
| **ViewResolver**      | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (JSP, Thymeleaf, JSON) –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–≤–µ—Ç–∞. |
| **ExceptionResolver** | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫.   |
| **LocaleResolver**    | –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª—è—è —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫ –∏ —Ä–µ–≥–∏–æ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.     |

---
#### 40. –í–∞—Ä–∏–∞–Ω—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ Exceptions –≤ Spring

 **1. @ExceptionHandler**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –º–µ—Ç–æ–¥—É –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ.

**–ü—Ä–∏–º–µ—Ä:**

```java
@RestController
public class MyController {

    @GetMapping("/test")
    public String test() {
        throw new IllegalArgumentException("Invalid input");
    }

    @ExceptionHandler(IllegalArgumentException.class)
    public ResponseEntity<String> handleIllegalArgument(IllegalArgumentException e) {
        return ResponseEntity.badRequest().body("Error: " + e.getMessage());
    }
}
```

 **2. @ControllerAdvice**

- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
- –£–¥–æ–±–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

**–ü—Ä–∏–º–µ—Ä:**

```java
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(IllegalArgumentException.class)
    public ResponseEntity<String> handleIllegalArgument(IllegalArgumentException e) {
        return ResponseEntity.badRequest().body("Global Error: " + e.getMessage());
    }
}
```


 **3. ResponseStatusException**

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º HTTP-—Å—Ç–∞—Ç—É—Å–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä:**

```java
@GetMapping("/error")
public void error() {
    throw new ResponseStatusException(HttpStatus.NOT_FOUND, "Resource not found");
}
```

 **4. @ResponseStatus**

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç HTTP-—Å—Ç–∞—Ç—É—Å –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä:**

```java
@ResponseStatus(HttpStatus.NOT_FOUND)
public class ResourceNotFoundException extends RuntimeException {
    public ResourceNotFoundException(String message) {
        super(message);
    }
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ:

```java
@GetMapping("/resource")
public void getResource() {
    throw new ResourceNotFoundException("Resource not found");
}
```


 **5. HandlerExceptionResolver**

- –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
- –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `HandlerExceptionResolver`.

**–ü—Ä–∏–º–µ—Ä:**

```java
@Component
public class CustomExceptionResolver implements HandlerExceptionResolver {

    @Override
    public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) {
        try {
            response.sendError(HttpServletResponse.SC_BAD_REQUEST, ex.getMessage());
        } catch (IOException e) {
            e.printStackTrace();
        }
        return new ModelAndView();
    }
}
```

 **6. RestTemplate –∏ WebClient**

- –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ REST-–∑–∞–ø—Ä–æ—Å–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫, —Ç–∞–∫–∏–µ –∫–∞–∫ `ResponseErrorHandler` –¥–ª—è `RestTemplate`.

**–ü—Ä–∏–º–µ—Ä:**

```java
RestTemplate restTemplate = new RestTemplate();
restTemplate.setErrorHandler(new DefaultResponseErrorHandler() {
    @Override
    public void handleError(ClientHttpResponse response) throws IOException {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
    }
});
```

---
***–ö–∞–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è?***


Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∫–æ–º–º–∏—Ç –∏–ª–∏ –æ—Ç–∫–∞—Ç (rollback) —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

 **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö:**

1. **Rollback –¥–ª—è `RuntimeException` –∏ `Error`:**
    
    - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, Spring –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ `RuntimeException` –∏–ª–∏ `Error`.
    - –ò—Å–∫–ª—é—á–µ–Ω–∏—è —Ç–∏–ø–∞ `Checked Exception` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SQLException`) **–Ω–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ—Ç–∫–∞—Ç—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**, –µ—Å–ª–∏ —ç—Ç–æ —è–≤–Ω–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ.
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ rollback:** –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –æ—Ç–∫–∞—Ç—É.
    

**–ü—Ä–∏–º–µ—Ä:**

```java
@Transactional(rollbackFor = Exception.class)
public void performTransaction() throws Exception {
    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è Exception, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è
    throw new Exception("Transaction failed");
}
```

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:** –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
    
4. **–†–∞–±–æ—Ç–∞ —Å `@Transactional`:**
    
    - –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `rollback` —É –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.
    - –î–ª—è –º–µ—Ç–æ–¥–æ–≤ `private` –∏–ª–∏ –≤—ã–∑–æ–≤–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å.

**–ü—Ä–∏–º–µ—Ä:**

```java
@Transactional
public void process() {
    try {
        performAction();
    } catch (Exception e) {
        // –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è
        throw e;
    }
}

private void performAction() {
    // –î–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
    throw new RuntimeException("Error in action");
}
```

 **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**

|–ü—Ä–æ–±–ª–µ–º–∞|–†–µ—à–µ–Ω–∏–µ|
|---|---|
|–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å `@Transactional`.|–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –±–∏–Ω.|
|–ò—Å–∫–ª—é—á–µ–Ω–∏–µ `Checked Exception` –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ rollback.|–£–∫–∞–∑–∞—Ç—å `rollbackFor` –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Transactional`.|
|–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.|–£–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `propagation`, –Ω–∞–ø—Ä–∏–º–µ—Ä, `Propagation.REQUIRES_NEW` –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–æ–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.|

---
#### 41. @Configuration. –Ø–≤–ª—è–µ—Ç—Å—è Configuration –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º? –ö–∞–∫—É—é –¥–æ–ø –ª–æ–≥–∏–∫—É Configuration —Ä–µ–∞–ª–∏–∑—É–µ—Ç?

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Configuration` **—è–≤–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º** Spring. –û–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–æ–≤. –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Component`.

 **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞, —Ä–µ–∞–ª–∏–∑—É–µ–º–∞—è @Configuration**

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–∏–Ω–æ–≤ (@Bean):** –ö–ª–∞—Å—Å—ã —Å `@Configuration` –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–µ—Ç–æ–¥—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ `@Bean`, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Spring.
    
    **–ü—Ä–∏–º–µ—Ä:**
    
    ```java
    @Configuration
    public class AppConfig {
    
        @Bean
        public MyService myService() {
            return new MyService();
        }
    }
    ```
    
2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ (proxyBeanMethods = true):** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, Spring –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–ª–∞—Å—Å —Å `@Configuration` –≤ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞.
    
    **–ü—Ä–∏–º–µ—Ä:**
    
    ```java
    @Configuration
    public class AppConfig {
    
        @Bean
        public ServiceA serviceA() {
            return new ServiceA(serviceB());
        }
    
        @Bean
        public ServiceB serviceB() {
            return new ServiceB();
        }
    }
    ```
    
    –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `serviceB()` –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `serviceA()` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä `ServiceB`.
    
3. **–õ–æ–≥–∏–∫–∞ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** –ö–ª–∞—Å—Å —Å `@Configuration` –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `@Import`.
    
    **–ü—Ä–∏–º–µ—Ä:**
    
    ```java
    @Configuration
    @Import(AnotherConfig.class)
    public class AppConfig {}
    ```
    
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π:** –í –∫–ª–∞—Å—Å–∞—Ö —Å `@Configuration` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∫–∞–∫ `@ComponentScan`, `@PropertySource`, –∏ –¥—Ä—É–≥–∏–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---
***@Configuration vs @Component***

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Configuration` –∏ `@Component` –≤ Spring –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–Ω–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –Ω–æ –æ–Ω–∏ –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Ü–µ–ª–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

| –ö—Ä–∏—Ç–µ—Ä–∏–π                         | @Configuration                                                       | @Component                                                 |
| -------------------------------- | -------------------------------------------------------------------- | ---------------------------------------------------------- |
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                   | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –±–∏–Ω–æ–≤.          | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ã—á–Ω–æ–≥–æ Spring-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.   |
| **–°–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–æ–≤**               | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∏–Ω—ã —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Bean`.                   | –ë–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤). |
| **–ü—Ä–æ–∫—Å–∏ (proxyBeanMethods)**    | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç singleton –¥–ª—è –±–∏–Ω–æ–≤.           | –ü—Ä–æ–∫—Å–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.                                    |
| **–°–µ–º–∞–Ω—Ç–∏–∫–∞**                    | –û–±–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.             | –û–ø–∏—Å—ã–≤–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.                 |
| **–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**          | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `@Import` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.          | –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–ø–æ—Ä—Ç.                                    |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–µ —Å @Bean** | –ú–µ—Ç–æ–¥—ã —Å `@Bean` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ (singleton). | –ù–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è `@Bean`.                 |
| **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**             | –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –±–∏–Ω–æ–≤.         | –í —Å–ª—É–∂–µ–±–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö, —Å–µ—Ä–≤–∏—Å–∞—Ö, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –∏ —Ç. –¥.        |


 **1. @Configuration**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Configuration` –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∏–Ω–æ–≤ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω Spring-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∏–º–∏ –±–∏–Ω–∞–º–∏.

- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.**
- **–ü—Ä–æ–∫—Å–∏:** Spring —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```java
@Configuration
public class AppConfig {

    @Bean
    public ServiceA serviceA() {
        return new ServiceA(serviceB());
    }

    @Bean
    public ServiceB serviceB() {
        return new ServiceB();
    }
}

```

–ï—Å–ª–∏ –º–µ—Ç–æ–¥ `serviceA()` –≤—ã–∑—ã–≤–∞–µ—Ç `serviceB()`, Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å **—Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä** `ServiceB`, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.


 **2. @Component**

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Component` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ –±–∏–Ω –≤ Spring-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –û–Ω–∞ –±–æ–ª–µ–µ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–ª–∞—Å—Å–æ–≤ (—Å–µ—Ä–≤–∏—Å—ã, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏ —Ç. –¥.).

- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É.**
- **–ù–µ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–∫—Å–∏:** –º–µ—Ç–æ–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ —Å `@Component` –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é

```java
@Component
public class AppConfig {

    @Bean
    public ServiceA serviceA() {
        return new ServiceA(serviceB());
    }

    @Bean
    public ServiceB serviceB() {
        return new ServiceB();
    }
}

```

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º–µ—Ç–æ–¥ `serviceB()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–∞–ø—Ä—è–º—É—é, –∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `ServiceB`.

 **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @Configuration –∏ @Component?**

- **@Configuration**:
    
    - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
    - –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.
    - –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏–Ω–∞–º–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `@Bean`.
- **@Component**:
    
    - –î–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏.
    - –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---
#### 42. @PostConstruct

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@PostConstruct` –∏–∑ –ø–∞–∫–µ—Ç–∞ `javax.annotation` —É–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –±–∏–Ω –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω–µ–¥—Ä–µ–Ω—ã (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è). –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–∏–Ω–∞.

**–¶–µ–ª—å:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏, —Ç—Ä–µ–±—É—é—â–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞).

---
***–°–∫–æ–ª—å–∫–æ @PostConstruct –º–æ–∂–Ω–æ –∑–∞–¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –±–∏–Ω–µ?***

–ú–æ–∂–Ω–æ –∑–∞–¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω –º–µ—Ç–æ–¥ —Å @PostConstruct** –≤ –æ–¥–Ω–æ–º –±–∏–Ω–µ. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ —Å —ç—Ç–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π, Spring –≤—ã–±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É.

---
#### 43. Dependency management –≤ Spring boot

Dependency Management ‚Äî —ç—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í Spring Boot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º Maven –∏–ª–∏ Gradle –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫.

**1. Spring Boot Starter Dependencies:**

- –ì—Ä—É–ø–ø—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `spring-boot-starter-web`), –∫–æ—Ç–æ—Ä—ã–µ –≤–∫–ª—é—á–∞—é—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã.
- –£–ø—Ä–æ—â–∞—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É: –≤–º–µ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤—Ä—É—á–Ω—É—é, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è "—Å—Ç–∞—Ä—Ç–µ—Ä".

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>

```

**2. Spring Boot Dependency Management:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç BOM (Bill of Materials) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –í–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º POM (`spring-boot-dependencies`), —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>3.0.0</version>
</parent>

```

**3. –ü—Ä–æ—Ñ–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, dev, test, prod) —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Ñ–∏–ª–µ–π Maven.

**4. –≠–∫—Å–ø–ª–∏—Ü–∏—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Spring Boot –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–µ—Ä—Å–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Å–æ–±–∞—è –≤–µ—Ä—Å–∏—è.

---
#### 44. Spring Security, –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?

 **–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π:**

1. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ –≤–∏–¥–µ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.**
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–∞—Ä–æ–ª—å –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ —Ö—ç—à (–Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ).

 **–ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ Spring Security?**

1. **–•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é BCrypt:** Spring Security –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞ BCrypt, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π.
    
    **–ü—Ä–∏–º–µ—Ä:**
    
    ```java
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
    ```
    
    –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è:
    
    ```java
    @Autowired
    private PasswordEncoder passwordEncoder;
    
    public void saveUser(String rawPassword) {
        String hashedPassword = passwordEncoder.encode(rawPassword);
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ hashedPassword –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    }
    ```
    
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è:** –ü—Ä–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–≤–µ–¥—ë–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
    
    ```java
    boolean matches = passwordEncoder.matches(rawPassword, hashedPassword);
    ```

 **–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏?**

1. **–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
    
    - –ü–∞—Ä–æ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∏–¥–µ —Ö—ç—à–µ–π, –∏—Å–ø–æ–ª—å–∑—É—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, BCrypt, PBKDF2, Argon2).
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–æ–ª–±—Ü—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ –¥–ª–∏–Ω–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è.
2. **–ü—Ä–∏–º–µ—Ä —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü—ã:**
    
    ```sql
    CREATE TABLE users (
        id BIGINT AUTO_INCREMENT PRIMARY KEY,
        username VARCHAR(50) NOT NULL,
        password VARCHAR(255) NOT NULL,
        role VARCHAR(20) NOT NULL
    );
    ```

 **–ü–æ—á–µ–º—É BCrypt?**

- **–°–æ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** BCrypt –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é "—Å–æ–ª—å" –∫ –∫–∞–∂–¥–æ–º—É –ø–∞—Ä–æ–ª—é, —á—Ç–æ–±—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –∏–º–µ–ª–∏ —Ä–∞–∑–Ω—ã–µ —Ö—ç—à–∏.
- **–ó–∞–º–µ–¥–ª–µ–Ω–∏–µ:** –£ BCrypt –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (work factor), —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö—ç—à–∞, –∑–∞—â–∏—â–∞—è –æ—Ç –∞—Ç–∞–∫ –ø–µ—Ä–µ–±–æ—Ä–æ–º.

---
#### 45. Spring Profiles –∫–∞–∫ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å?

Spring **Profiles** –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å **—Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç **–æ–∫—Ä—É–∂–µ–Ω–∏—è** (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–¥).

 **1Ô∏è‚É£ –ö–∞–∫ –∑–∞–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å?**

 **üìå 1. –í `application.properties/yml`**

üìå –£–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –≤ `application.properties`:

```
spring.profiles.active=dev
```

üìå –ò–ª–∏ –≤ `application.yml`:

```yaml
spring:
  profiles:
    active: dev
```

 **üìå 2. –ß–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã JVM (`-Dspring.profiles.active=prod`)**

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```bash
java -jar myapp.jar --spring.profiles.active=prod
```

 **2Ô∏è‚É£ –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π?**

üìå **–°–ø–æ—Å–æ–± 1: –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã `application-{profile}.properties`**

- `application-dev.properties` (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- `application-prod.properties` (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)
- `application-test.properties` (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

–ü—Ä–∏–º–µ—Ä `application-dev.properties`:

```
server.port=8080
spring.datasource.url=jdbc:mysql://localhost:3306/dev_db
```

–ü—Ä–∏–º–µ—Ä `application-prod.properties`:

```
server.port=80
spring.datasource.url=jdbc:mysql://prod-db:3306/prod_db
```


üìå **–°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@Profile` –≤ –∫–æ–¥–µ**

```java
@Component
@Profile("dev")
public class DevDataSource implements DataSourceConfig {
    @Override
    public void setup() {
        System.out.println("DEV database setup");
    }
}

@Component
@Profile("prod")
public class ProdDataSource implements DataSourceConfig {
    @Override
    public void setup() {
        System.out.println("PROD database setup");
    }
}
```

–ï—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω –ø—Ä–æ—Ñ–∏–ª—å `dev`, —Ç–æ —Å–æ–∑–¥–∞—Å—Ç—Å—è `DevDataSource`, –∏–Ω–∞—á–µ ‚Äî `ProdDataSource`.


üìå **–°–ø–æ—Å–æ–± 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@IfProfileValue`**  
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** (–Ω–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏).

```java
@IfProfileValue(name = "spring.profiles.active", notValue = "prod")
public void runOnlyInDev() {
    System.out.println("–≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ù–ï –≤ –ø—Ä–æ–¥–µ!");
}
```

---
#### 46. –í–∏–¥—ã proxy –≤ Spring

Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** (`Proxy`) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **AOP-–æ–±–µ—Ä—Ç–æ–∫** –Ω–∞–¥ –±–∏–Ω–∞–º–∏.

|**–¢–∏–ø Proxy**|**–û–ø–∏—Å–∞–Ω–∏–µ**|**–ö–∞–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è?**|
|---|---|---|
|**JDK Dynamic Proxy**|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `java.lang.reflect.Proxy`|–î–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤|
|**CGLIB Proxy**|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `net.sf.cglib.proxy`|–î–ª—è –∫–ª–∞—Å—Å–æ–≤|
|**AspectJ Proxy**|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **Spring AOP**|–ù—É–∂–Ω–æ –¥–æ–ø. –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ|

 **1Ô∏è‚É£ JDK Dynamic Proxy (`java.lang.reflect.Proxy`)**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**.
- –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–∫—Å–∏-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

üìå **–ü—Ä–∏–º–µ—Ä:**

```java
public interface Service {
    void doWork();
}

public class ServiceImpl implements Service {
    public void doWork() {
        System.out.println("–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!");
    }
}
```

–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –≤—Ä—É—á–Ω—É—é:

```java
Service proxy = (Service) Proxy.newProxyInstance(
    Service.class.getClassLoader(),
    new Class[]{Service.class},
    (proxyObj, method, args) -> {
        System.out.println("–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞...");
        return method.invoke(new ServiceImpl(), args);
    }
);
proxy.doWork();
```

üìå **–í—ã–≤–æ–¥:**

```
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞...
–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!
```

 **2Ô∏è‚É£ CGLIB Proxy (`net.sf.cglib.proxy`)**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–¥–ª—è –∫–ª–∞—Å—Å–æ–≤** (–¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞).
- –°–æ–∑–¥–∞–µ—Ç **–ø–æ–¥–∫–ª–∞—Å—Å** –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

üìå **–ü—Ä–∏–º–µ—Ä:**

```java
public class Service {
    public void doWork() {
        System.out.println("–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!");
    }
}
```

–°–æ–∑–¥–∞–Ω–∏–µ CGLIB-–ø—Ä–æ–∫—Å–∏ –≤—Ä—É—á–Ω—É—é:

```java
Enhancer enhancer = new Enhancer();
enhancer.setSuperclass(Service.class);
enhancer.setCallback((MethodInterceptor) (obj, method, args, proxy) -> {
    System.out.println("–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞...");
    return proxy.invokeSuper(obj, args);
});
Service proxy = (Service) enhancer.create();
proxy.doWork();
```

üìå **–í—ã–≤–æ–¥:**

```
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞...
–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!
```

---
***Spring cglib vs dynamic proxy***

|**–§—É–Ω–∫—Ü–∏—è**|**JDK Dynamic Proxy**|**CGLIB Proxy**|
|---|---|---|
|**–ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?**|–¢–æ–ª—å–∫–æ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏|–†–∞–±–æ—Ç–∞–µ—Ç —Å –∫–ª–∞—Å—Å–∞–º–∏|
|**–ö–∞–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è?**|`java.lang.reflect.Proxy`|`net.sf.cglib.proxy.Enhancer`|
|**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**|–ù–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∫–ª–∞—Å—Å–∞|–°–æ–∑–¥–∞–µ—Ç –ø–æ–¥–∫–ª–∞—Å—Å|
|**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**|–ß—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ|–ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ|

---
***–ö–∞–∫–æ–µ proxy –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –≤ Spring?***

üìå **Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `JDK Dynamic Proxy` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**.

 **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CGLIB?**

- –ï—Å–ª–∏ **–∫–ª–∞—Å—Å –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**.
- –ï—Å–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å:

```java
@EnableAspectJAutoProxy(proxyTargetClass = true)
```

üìå **–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–æ–π Proxy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?**

```java
ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
Object proxy = context.getBean(MyService.class);
System.out.println(proxy.getClass());
```

‚úÖ –í—ã–≤–µ–¥–µ—Ç `com.sun.proxy.$Proxy...` –¥–ª—è **JDK Dynamic Proxy** –∏–ª–∏ `MyService$$EnhancerByCGLIB$$...` –¥–ª—è **CGLIB**.


---
#### 47. @Lookup
**`@Lookup`** ‚Äî —ç—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –≤ Spring, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –≤ **singleton-–±–∏–Ω–µ** (–æ–¥–∏–Ω–æ—á–∫–µ) –ø–æ–ª—É—á–∞—Ç—å **–Ω–æ–≤—ã–π** —ç–∫–∑–µ–º–ø–ª—è—Ä prototype-–±–∏–Ω–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞. –ë–µ–∑ `@Lookup` –ø—Ä–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ prototype-–±–∏–Ω–∞ –≤ singleton –æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**

1. –¢—ã **–ø–æ–º–µ—á–∞–µ—à—å –º–µ—Ç–æ–¥** –≤ singleton-–∫–ª–∞—Å—Å–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Lookup`.
2. Spring **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ (—á–µ—Ä–µ–∑ CGLIB).
3. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ Spring **–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π prototype-–±–∏–Ω** –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

 –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```java
@Component
@Scope("prototype")
public class PrototypeBean {
    public void doSomething() {
        System.out.println("PrototypeBean: " + this);
    }
}
```

```java
@Component
public abstract class SingletonBean {

    public void process() {
        // –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä PrototypeBean
        PrototypeBean prototypeBean = getPrototypeBean();
        prototypeBean.doSomething();
    }

    @Lookup
    protected abstract PrototypeBean getPrototypeBean();
}
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**

- `SingletonBean` ‚Äî –±–∏–Ω —Å **scope = singleton** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `PrototypeBean` ‚Äî –±–∏–Ω —Å **scope = prototype**.
- –ú–µ—Ç–æ–¥ `getPrototypeBean()` –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Lookup`, –∏ Spring –ø–æ–¥–º–µ–Ω—è–µ—Ç –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é: –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `getPrototypeBean()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è **–Ω–æ–≤—ã–π** `PrototypeBean`.

 **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ**

- –ö–æ–≥–¥–∞ –≤ **singleton**-–±–∏–Ω–µ –Ω–∞–¥–æ —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å **prototype**-–æ–±—ä–µ–∫—Ç—ã.
- –ß—Ç–æ–±—ã **–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** –≤—Ä—É—á–Ω—É—é `ApplicationContext.getBean()`.
- –î–ª—è **–∏–∑–±–µ–∂–∞–Ω–∏—è** —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (–ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –Ω–µ –∂–∏–≤—É—Ç –≤–µ—á–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞).

---
#### 48. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç BeanPostProcessor. –ü–æ—á–µ–º—É –µ—Å—Ç—å before –∏ after initialization

–í Spring `BeanPostProcessor` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç ¬´–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å¬ª –∫–∞–∂–¥–æ–µ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–µ —è–¥—Ä–æ–º Spring –±–∏–Ω –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –¥–æ –∏ –ø–æ—Å–ª–µ –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

```java
public interface BeanPostProcessor {

    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö init-–º–µ—Ç–æ–¥–æ–≤ –±–∏–Ω–∞ (@PostConstruct, InitializingBean.afterPropertiesSet, init-method)
    Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException;

    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ init-–º–µ—Ç–æ–¥–æ–≤
    Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException;
}
```

 **–ó–∞—á–µ–º –¥–≤–∞ –º–µ—Ç–æ–¥–∞ ‚Äî before –∏ after?**

1. **`postProcessBeforeInitialization`**  
    ‚Äì –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–∏–Ω –¥–æ –∑–∞–ø—É—Å–∫–∞ –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (`@PostConstruct`, `afterPropertiesSet`, `init-method`).  
    ‚Äì –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –ø–æ–ª—è, –≤–Ω–µ–¥—Ä–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –ø–æ–¥–º–µ–Ω–∏—Ç—å –±–∏–Ω –Ω–∞ ¬´–∑–∞–≥–ª—É—à–∫—É¬ª –Ω–∞ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
    
2. **`postProcessAfterInitialization`**  
    ‚Äì –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –±–∏–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ: –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, init-–º–µ—Ç–æ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.  
    ‚Äì –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–π —Å–ª—É—á–∞–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è ‚Äî –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –±–∏–Ω–∞ –≤ –ø—Ä–æ–∫—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è AOP, @Transactional, @Async).
    

 **–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã Spring –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏–Ω–∞**

1. **–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ** (–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ —Ñ–∞–±—Ä–∏–∫–∞)
    
2. **–í–ø—Ä—ã—Å–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (`@Autowired`, `@Value`)
    
3. **`postProcessBeforeInitialization` –≤—Å–µ—Ö BeanPostProcessor-–æ–≤**
    
4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–ª–ª–±–µ–∫–∏** (`@PostConstruct`, `afterPropertiesSet`, `init-method`)
    
5. **`postProcessAfterInitialization` –≤—Å–µ—Ö BeanPostProcessor-–æ–≤**
    
6. **–ë–∏–Ω –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
    

 **–ü—Ä–∏–º–µ—Ä —Å–≤–æ–µ–≥–æ BeanPostProcessor**

```java
@Component
public class LoggingBeanPostProcessor implements BeanPostProcessor {

    @Override
    public Object postProcessBeforeInitialization(Object bean, String name) {
        System.out.println("Before init: " + name);
        return bean; // –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –æ–±—ë—Ä—Ç–∫—É –∏–ª–∏ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç
    }

    @Override
    public Object postProcessAfterInitialization(Object bean, String name) {
        System.out.println("After init: " + name);
        // –ï—Å–ª–∏ –±–∏–Ω –∏–º–µ–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @MyTransactional ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ–∫—Å–∏
        if (bean.getClass().isAnnotationPresent(MyTransactional.class)) {
            return ProxyFactory.getProxy(bean);
        }
        return bean;
    }
}
```

- –î–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º.
    
- –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî —Å–º–æ—Ç—Ä–∏–º, –µ—Å—Ç—å –ª–∏ —É –∫–ª–∞—Å—Å–∞ —Å–≤–æ—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∏ —Å–æ–∑–¥–∞—ë–º –ø—Ä–æ–∫—Å–∏.
    


 üîë **–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã**

- `BeanPostProcessor` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å** –∫–∞–∂–¥—ã–π –±–∏–Ω **–¥–æ** –∏ **–ø–æ—Å–ª–µ** –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö init-–º–µ—Ç–æ–¥–æ–≤.
    
- **Before** (`postProcessBeforeInitialization`) —Ä–∞–±–æ—Ç–∞–µ—Ç **–¥–æ** `@PostConstruct`/`afterPropertiesSet`/`init-method`.
    
- **After** (`postProcessAfterInitialization`) ‚Äî **–ø–æ—Å–ª–µ**, –∏–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ Spring —Å–æ–∑–¥–∞—ë—Ç AOP-–ø—Ä–æ–∫—Å–∏, –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –±–∏–Ω –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –∏ —Ç. –ø.
    
- –í—ã –º–æ–∂–µ—Ç–µ **–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç** –≤–º–µ—Å—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ stub.
    
- –í—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `BeanPostProcessor` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö **PriorityOrdered**/**Ordered** –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–æ—Ä—è–¥–∫–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
    
---
#### 49. @Lazy

`@Lazy` ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Spring, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞** –¥–æ –º–æ–º–µ–Ω—Ç–∞ –µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–º–µ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.



**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**

1. –ù–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –±–∏–Ω–∞

    ```java
    @Component
    @Lazy
    public class HeavyService {
        public HeavyService() {
            // —Ç—è–∂—ë–ª–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        }
    }
    ```

   –ë–∏–Ω `HeavyService` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –±–∏–Ω–∞, –∞ –Ω–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

2. –ù–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–∞ `@Bean`

    ```java
    @Configuration
    public class AppConfig {
    
      @Bean
      @Lazy
      public DataSource dataSource() {
        // —Å–æ–∑–¥–∞—ë–º DataSource —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
        return new HikariDataSource();
      }
    }
    ```

3. –ù–∞ —É—Ä–æ–≤–Ω–µ —Ç–æ—á–∫–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

    ```java
    @Service
    public class UserService {
    
      @Autowired
      @Lazy
      private HeavyService heavyService;
    
      public void process() {
        // heavyService —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
        heavyService.execute();
      }
    }
    ```

   –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–∏–º–µ–Ω–∏–º, –µ—Å–ª–∏ –±–∏–Ω –Ω—É–∂–µ–Ω –¥–∞–ª–µ–∫–æ –Ω–µ –≤—Å–µ–≥–¥–∞.



**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º**

- –ü—Ä–∏ –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Spring —Å–æ–∑–¥–∞—ë—Ç –Ω–µ —Å–∞–º –æ–±—ä–µ–∫—Ç, –∞ **–ø—Ä–æ–∫—Å–∏** (proxy).
- –ü—Ä–æ–∫—Å–∏ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∞–±—Ä–∏–∫—É –±–∏–Ω–æ–≤ –∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ –ª—é–±–æ–≥–æ –º–µ—Ç–æ–¥–∞ **–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç** –∏ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤ –µ–º—É.

```plaintext
UserService ‚Üí heavyService (proxy)  
proxy.invoke() ‚îÄ‚îÄ> ApplicationContext.getBean(HeavyService) ‚îÄ‚îÄ> –Ω–∞—Å—Ç–æ—è—â–∏–π HeavyService
```

---
#### 50. @ControllerAdvice
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∏—è –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏, –ø—Ä–∏–º–µ–Ω—è–µ–º–æ–π –∫–æ –≤—Å–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º.

üîπ **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏**

- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** (`@ExceptionHandler`).
- **–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ** –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ (`@ModelAttribute`).
- **–û–±—â–∏–µ –±–∏–Ω–¥–µ—Ä—ã** (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è) —á–µ—Ä–µ–∑ `@InitBinder`.

üîπ **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.
- –ú–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –æ–±–ª–∞—Å—Ç—å (`basePackages`, `assignableTypes`).
- –î–ª—è REST-API –∏—Å–ø–æ–ª—å–∑—É—é—Ç `@RestControllerAdvice` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç `@ResponseBody`).

‚úÖ **–ò—Ç–æ–≥–æ:**  
`@ControllerAdvice` = –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π + –æ–±—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.

---
#### 51. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω Spring Security

–§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è **–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** (–∫—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) –∏ **–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** (—á—Ç–æ –µ–º—É –º–æ–∂–Ω–æ).  
–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **—Ü–µ–ø–æ—á–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (Servlet Filters)**, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å.

üîπ **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

1. **SecurityFilterChain**
    - –ù–∞–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å.
    - –ü—Ä–∏–º–µ—Ä—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤:
        - `UsernamePasswordAuthenticationFilter` (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
        - `BearerTokenAuthenticationFilter` (JWT —Ç–æ–∫–µ–Ω)
2. **Authentication**
    - –û–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞:
        - `principal` (—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —á–∞—â–µ `UserDetails`)
        - `credentials` (–ø–∞—Ä–æ–ª—å –∏–ª–∏ —Ç–æ–∫–µ–Ω)
        - `authorities` (—Ä–æ–ª–∏/–ø—Ä–∞–≤–∞)
3. **AuthenticationManager**
    - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è –∏–ª–∏ —Ç–æ–∫–µ–Ω–∞.
    - –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≤ **AuthenticationProvider**.
4. **AuthenticationProvider**
    - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è —Å –ë–î).
5. **UserDetailsService**
    - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ –∏–º–µ–Ω–∏/–ø–æ—á—Ç–µ).
    - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `UserDetails` —Å –ª–æ–≥–∏–Ω–æ–º, –ø–∞—Ä–æ–ª–µ–º –∏ —Ä–æ–ª—è–º–∏.
6. **Authorization**
    - –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª–∏/–ø—Ä–∞–≤–∞.
    - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:
        - `@PreAuthorize("hasRole('ADMIN')")`
        - `@Secured("ROLE_USER")`

üîπ **–ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞**

1. –ó–∞–ø—Ä–æ—Å –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
2. –ü—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ **SecurityFilterChain**.
3. –§–∏–ª—å—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `UsernamePasswordAuthenticationFilter`) –ø—ã—Ç–∞–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å.
4. `AuthenticationManager` –≤—ã–∑—ã–≤–∞–µ—Ç `AuthenticationProvider`.
5. `UserDetailsService` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å.
6. –ï—Å–ª–∏ —É—Å–ø–µ—Ö ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è `Authentication`, –∫–ª–∞–¥—ë—Ç—Å—è –≤ **SecurityContext**.
7. –î–∞–ª–µ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø—Ä–∞–≤–∞/—Ä–æ–ª–∏).
8. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å.

üîπ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–æ–≤—ã–π —Å—Ç–∏–ª—å, Spring Security 5.7+)**

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/admin/**").hasRole("ADMIN")
                .anyRequest().authenticated()
            )
            .formLogin(withDefaults())   // –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å —Ñ–æ—Ä–º–∞
            .httpBasic(withDefaults()); // –±–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        return http.build();
    }

    @Bean
    public UserDetailsService users() {
        UserDetails user = User.withUsername("user")
            .password("{noop}password") // {noop} = –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
            .roles("USER")
            .build();
        return new InMemoryUserDetailsManager(user);
    }
}
```

‚úÖ **–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã**

- Spring Security = **—Ü–µ–ø–æ—á–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤** –¥–ª—è –∑–∞—â–∏—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏:
    - `Authentication` (–∫—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
    - `Authorization` (—á—Ç–æ –µ–º—É –º–æ–∂–Ω–æ)
- –ì–ª–∞–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã: `AuthenticationManager`, `AuthenticationProvider`, `UserDetailsService`.
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ **Java DSL (`HttpSecurity`)**, –±–µ–∑ XML.


